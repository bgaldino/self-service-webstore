{"version":3,"sources":["images/demoAnalytics.png","images/mastercard.png","images/visa.jpg","images/diners.png","images/jcb.png","images/maestro.png","images/amex.png","images/loading.gif","components/useToken.js","components/Home.js","components/Cart.js","components/Login/Login.js","components/Assets/Assets.js","components/Drawer.js","components/OrderConfirmation.js","App.js","index.js","images/owned.png"],"names":["module","exports","useToken","useState","tokenString","localStorage","getItem","JSON","parse","getToken","token","setToken","userToken","setItem","stringify","Home","setCart","cart","open","setOpen","selectedProduct","setSelectedProduct","selectedQuantity","setSelectedQuantity","snackbarOpen","setSnackbarOpen","products","setProducts","loading","setLoading","React","searchTerm","setSearchTerm","currentSearch","setCurrentSearch","a","populateProductData","handleQuantityChange","e","quantity","target","validity","valid","value","Alert","props","elevation","variant","fetchPricebookEntryData","pbeData","requestHeaders","Headers","append","requestOptions","method","headers","redirect","requestUrl","process","fetch","then","response","text","result","records","populatePrices","catch","error","console","log","constructPricingBody","data","raw","listPricebookId","candidatePricebookIds","pricingFlow","roundingMode","graph","graphId","referenceId","record","attributes","type","CurrencyIsoCode","index","length","pbe","sellingModel","ProductSellingModel","SellingModelType","pricingTermUnit","PricingTermUnit","pricingTerm","parseInt","PricingTerm","description","Product2","Description","img","DisplayUrl","entry","SalesTransactionId","ProductId","Product2Id","Quantity","ProductSellingModelId","push","pricedProducts","requestBody","body","pricingData","price","ListPrice","Math","round","toFixed","useEffect","handleDialogClose","handleSnackbarClose","event","reason","addToCart","newCart","quantToAdd","itemInCart","find","item","Name","convertUnitTerm","term","itemList","map","product","className","key","Id","src","alt","title","to","style","right","bottom","onClick","toLowerCase","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","color","width","textAlign","pattern","onInput","DialogActions","Button","autoFocus","Snackbar","autoHideDuration","severity","analytics","marginTop","margin","placeholder","onChange","position","backgroundColor","marginLeft","display","justifyContent","marginBottom","BASE_URL","Cart","orderExecuting","setOrderExecuting","paymentOptions","setPaymentOptions","selectedPayment","setSelectedPayment","history","useHistory","clearCart","getCardImage","card","mastercard","jcb","visa","amex","maestro","diners","constructBuyNowBody","effectiveDate","moment","Date","format","toString","inputs","order","AccountId","EffectiveDate","EndDate","Pricebook2Id","Status","orderItems","Array","paymentMethodId","UnitPrice","parseFloat","unitPrice","PricebookEntryId","TaxTreatmentId","getPaymentMethods","payments","options","i","label","CardTypeCategory","CardLastFour","executeBuyNow","alert","orderInfo","isSuccess","orderNumber","outputValues","orderOutput","OrderNumber","getPrices","adjustmentIndex","netPrice","NetUnitPrice","adjustment","TotalPrice","TotalAdjustmentAmount","totalPrice","priceChange","abs","priceAdjustmentItem","adjustmentDesc","adjustmentVal","AdjustmentValue","adjustmentType","AdjustmentType","totalAdjustment","TotalAmount","adjustmentString","populateData","setQuantity","prod","amount","removeFromCart","productToRemove","filter","idx","Container","Row","Col","transform","top","overflowWrap","Link","left","padding","reduce","sum","getTotalSum","float","defaultValue","menuPortalTarget","document","menuPosition","isSearchable","alignItems","flexDirection","loginUser","credentials","formdata","FormData","username","password","parsedResult","access_token","split","Login","setUserName","setPassword","setError","handleSubmit","preventDefault","onSubmit","fontSize","class","SELLING_MODEL_TYPES","Assets","assets","setAssets","selectedAsset","setSelectedAsset","date","onDateChange","Map","events","socket","io","transports","handleCancel","setUTCHours","assetIds","cancellationDate","utc","add","requestId","timer","setInterval","has","clearInterval","message","get","payload","HasErrors","clear","fetchPricingData","pricingMap","set","fetchAssetData","assetData","assetList","currentAsset","Period","LifecycleStartDate","LifecycleEndDate","bsgReqUrl","join","bsgRecords","forEach","r","assetId","ReferenceEntity","asset","EffectiveNextBillingDate","NextBillingDate","on","RequestId","loadingImg","ownedImg","data-badge-caption","CurrentQuantity","Price","alignment","autoTrigger","closeOnClick","constrainWidth","container","coverTrigger","hover","inDuration","onCloseEnd","onCloseStart","onOpenEnd","onOpenStart","outDuration","trigger","node","href","fullWidth","maxWidth","height","minDate","useStyles","makeStyles","theme","root","drawer","breakpoints","up","flexShrink","appBar","menuButton","marginRight","spacing","toolbar","mixins","drawerPaper","content","flexGrow","ResponsiveDrawer","cartTotal","logout","window","classes","useTheme","mobileOpen","setMobileOpen","photoUrl","setPhotoUrl","userName","company","setCompany","userData","MediumPhotoUrl","FirstName","LastName","CompanyName","Divider","List","url","undefined","aria-label","Hidden","smUp","implementation","Drawer","anchor","direction","paper","ModalProps","keepMounted","xsDown","OrderConfirmation","orderId","useParams","App","basename","removeItem","exact","path","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c75047eb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/demoAnalytics.852b0f17.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/visa.e66d38d0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/diners.fa6db1cf.png\";","module.exports = __webpack_public_path__ + \"static/media/jcb.2e11480d.png\";","module.exports = __webpack_public_path__ + \"static/media/maestro.c59f526c.png\";","module.exports = __webpack_public_path__ + \"static/media/amex.57476e8f.png\";","module.exports = __webpack_public_path__ + \"static/media/loading.da2b63dd.gif\";","import { useState } from \"react\";\n\nexport default function useToken() {\n  const getToken = () => {\n    const tokenString = localStorage.getItem(\"token\");\n    const userToken = JSON.parse(tokenString);\n    return userToken;\n  };\n\n  const [token, setToken] = useState(getToken());\n\n  const saveToken = (userToken) => {\n    localStorage.setItem(\"token\", JSON.stringify(userToken));\n    setToken(userToken);\n  };\n\n  return {\n    setToken: saveToken,\n    token,\n  };\n}\n","import React, { useState, useEffect } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\n\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\n\r\nimport useToken from \"./useToken\";\r\nimport analytics from \"../images/demoAnalytics.png\";\r\nimport ownedImg from \"../images/owned.png\";\r\n\r\nconst TERM_DEFINED = \"TermDefined\";\r\nconst ONE_TIME = \"OneTime\";\r\nconst EVERGREEN = \"Evergreen\";\r\n\r\nexport default function Home({ setCart, cart }) {\r\n  const [open, setOpen] = useState(false); // State of popup dialog\r\n  const [selectedProduct, setSelectedProduct] = useState(null); // Product data for popup\r\n  const [selectedQuantity, setSelectedQuantity] = useState(1); // Quantity to use for popup\r\n\r\n  const [snackbarOpen, setSnackbarOpen] = useState(false); // Add to cart confirmation snackbar\r\n  const [products, setProducts] = useState([]); // Array of all products\r\n  const { token, setToken } = useToken(); // Auth token\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [searchTerm, setSearchTerm] = React.useState(); // Real time user input\r\n  const [currentSearch, setCurrentSearch] = React.useState(); // Saved search term after user hits submit\r\n\r\n  // Updates whenever there is a change to the search box\r\n  const handleSearchChange = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  // Handler for the search button being clicked\r\n  async function handleSearchSubmit() {\r\n    setLoading(true);\r\n    setCurrentSearch(searchTerm);\r\n    await populateProductData(); // Refetch product data\r\n  }\r\n\r\n  // Used to handle a change in quantity for adding an item to the cart\r\n  const handleQuantityChange = (e) => {\r\n    const quantity = e.target.validity.valid\r\n      ? e.target.value\r\n      : selectedQuantity;\r\n    setSelectedQuantity(quantity);\r\n  };\r\n\r\n  // Confirmation after items have been added to the cart\r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  // Used to get all active pricebook entries for an org\r\n  async function fetchPricebookEntryData() {\r\n    let pbeData = [];\r\n    let requestHeaders = new Headers();\r\n\r\n    // Use the token acquired at login\r\n    requestHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n    requestHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n    let requestOptions = {\r\n      method: \"GET\",\r\n      headers: requestHeaders,\r\n      redirect: \"follow\",\r\n    };\r\n\r\n    let requestUrl = `${process.env.REACT_APP_API_ENDPOINT}/services/data/v${\r\n      process.env.REACT_APP_API_VERSION\r\n    }/queryAll/?q=SELECT CurrencyIsoCode,Id,IsActive,Name,Pricebook2Id,Product2Id,Product2.DisplayUrl,Product2.Description, ProductSellingModelId,ProductSellingModel.Name,ProductSellingModel.PricingTerm,ProductSellingModel.PricingTermUnit,ProductSellingModel.SellingModelType FROM PricebookEntry WHERE Pricebook2Id = '${`${process.env.REACT_APP_PRICEBOOK_ID}`}' AND IsActive = true AND CurrencyIsoCode = 'USD'`;\r\n\r\n    // If the user has searched for something, add it to the request URL\r\n    if (searchTerm) {\r\n      requestUrl += ` AND Name LIKE '${searchTerm}%25'`;\r\n    }\r\n\r\n    await fetch(requestUrl, requestOptions)\r\n      .then((response) => response.text())\r\n      .then(async (result) => {\r\n        pbeData = JSON.parse(result).records;\r\n        await populatePrices(pbeData, requestHeaders);\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  }\r\n\r\n  // Creates the request body for the pricing engine API using all pricebook entries\r\n  function constructPricingBody(data) {\r\n    // Initial body\r\n    let raw = {\r\n      listPricebookId: `${process.env.REACT_APP_PRICEBOOK_ID}`,\r\n      candidatePricebookIds: [`${process.env.REACT_APP_PRICEBOOK_ID}`],\r\n      pricingFlow: \"GET_CATALOG_PRICE\",\r\n      roundingMode: \"RoundHalfUp\",\r\n      graph: {\r\n        graphId: \"1\",\r\n        records: [\r\n          {\r\n            referenceId: \"ref_sales_txn\",\r\n            record: {\r\n              attributes: {\r\n                type: \"SalesTransaction\",\r\n              },\r\n              CurrencyIsoCode: \"USD\",\r\n            },\r\n          },\r\n        ],\r\n      },\r\n    };\r\n\r\n    // Go through pricebook entries and construct a body for each one\r\n    let index = 1;\r\n    for (index; index <= data.length; index++) {\r\n      let pbe = data[index - 1];\r\n\r\n      // Additional data processing to add necessary fields to the pbe\r\n      pbe.sellingModel = pbe.ProductSellingModel.SellingModelType;\r\n      pbe.pricingTermUnit = pbe.ProductSellingModel.PricingTermUnit;\r\n      pbe.pricingTerm = parseInt(pbe.ProductSellingModel.PricingTerm);\r\n      pbe.description = pbe.Product2.Description;\r\n      pbe.img = pbe.Product2.DisplayUrl;\r\n\r\n      // Create an entry for 1 of each product\r\n      let entry = {\r\n        referenceId: \"ref_sales_txn_item\" + index,\r\n        record: {\r\n          attributes: {\r\n            type: \"SalesTransactionItem\",\r\n          },\r\n          CurrencyIsoCode: \"USD\",\r\n          SalesTransactionId: \"@{ref_sales_txn.Id}\",\r\n          ProductId: pbe.Product2Id,\r\n          Quantity: \"1.0\",\r\n          ProductSellingModelId: pbe.ProductSellingModelId,\r\n        },\r\n      };\r\n      raw.graph.records.push(entry);\r\n    }\r\n    return JSON.stringify(raw);\r\n  }\r\n\r\n  // Calls the pricing engine API using the request body constructed from pricebook entry data\r\n  async function populatePrices(data, requestHeaders) {\r\n    let pricedProducts = [];\r\n    // Get the full request body to be used for the API call\r\n    let requestBody = constructPricingBody(data);\r\n\r\n    let requestOptions = {\r\n      method: \"POST\",\r\n      headers: requestHeaders,\r\n      body: requestBody,\r\n      redirect: \"follow\",\r\n    };\r\n\r\n    await fetch(\r\n      `${process.env.REACT_APP_API_ENDPOINT}/services/data/v${process.env.REACT_APP_API_VERSION}/commerce/pricing/salestransaction/actions/calculate-price`,\r\n      requestOptions\r\n    )\r\n      .then((response) => response.text())\r\n      .then((result) => {\r\n        let pricingData = JSON.parse(result);\r\n        let index = 1;\r\n        for (index; index <= data.length; index++) {\r\n          let pbe = data[index - 1];\r\n          // Get the ListPrice value and round it to two decimal places\r\n          let price = pricingData.records[index].record.ListPrice;\r\n          pbe.price = (Math.round(price * 100) / 100).toFixed(2);\r\n          pricedProducts.push(pbe);\r\n        }\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n    setProducts(pricedProducts); // Set the products array after the prices of the products are set\r\n  }\r\n\r\n  // Waits for API calls to finish and product data to populate before terminating loading\r\n  async function populateProductData() {\r\n    await fetchPricebookEntryData();\r\n    setLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    populateProductData();\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart)); // Saves state of cart\r\n  }, [cart]);\r\n\r\n  // Reset values after the popup is closed for an item\r\n  const handleDialogClose = () => {\r\n    setOpen(false);\r\n    setSelectedProduct(null);\r\n    setSelectedQuantity(1);\r\n  };\r\n\r\n  const handleSnackbarOpen = () => {\r\n    setSnackbarOpen(true);\r\n  };\r\n\r\n  const handleSnackbarClose = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n    setSnackbarOpen(false);\r\n  };\r\n\r\n  // Used to facilitate adding items to the cart from the homepage\r\n  const addToCart = () => {\r\n    let newCart = [...cart];\r\n    let quantToAdd = parseInt(selectedQuantity);\r\n    // Check if the item already exists in the cart\r\n    let itemInCart = newCart.find((item) => selectedProduct.Name === item.Name);\r\n    if (itemInCart) {\r\n      itemInCart.quantity += quantToAdd; // Update quantity if already present\r\n    } else {\r\n      // Otherwise create a new item and add to the cart\r\n      itemInCart = {\r\n        ...selectedProduct,\r\n        quantity: quantToAdd,\r\n      };\r\n      newCart.push(itemInCart);\r\n    }\r\n    setCart(newCart);\r\n    handleDialogClose();\r\n    handleSnackbarOpen();\r\n  };\r\n\r\n  // Used to swap wording for pricing term units\r\n  function convertUnitTerm(term) {\r\n    switch (term) {\r\n      case \"Days\":\r\n        return \"daily\";\r\n      case \"Months\":\r\n        return \"monthly\";\r\n      case \"Years\":\r\n        return \"yearly\";\r\n    }\r\n    return term;\r\n  }\r\n\r\n  // Maps all the products to cards\r\n  let itemList = products.map((product) => {\r\n    return (\r\n      <div className=\"card\" key={product.Id}>\r\n        <div className=\"card-border\"></div>\r\n        {product.img && (\r\n          <div className=\"card-image\">\r\n            <img src={product.img} alt={product.title} />\r\n          </div>\r\n        )}\r\n        <span\r\n          to=\"/\"\r\n          className=\"btn-floating halfway-fab waves-effect waves-light green\"\r\n          style={{ right: \"14px\", bottom: \"10px\" }}\r\n          onClick={() => {\r\n            setSelectedProduct(product);\r\n            setOpen(true);\r\n          }}\r\n        >\r\n          <i className=\"material-icons\">add</i>\r\n        </span>\r\n\r\n        <div className=\"card-content\">\r\n          <span className=\"card-title\">{product.Name}</span>\r\n\r\n          <div>\r\n            <i>{product.description}</i>\r\n            <br />\r\n            <br />\r\n            <p>\r\n              <h6>\r\n                {/* Render the price based on the term - ex. Evergreen is $13 monthly, Term defined is $2 for 12 months */}\r\n                <b>\r\n                  ${product.price}{\" \"}\r\n                  {product.sellingModel == EVERGREEN &&\r\n                    convertUnitTerm(product.pricingTermUnit)}{\" \"}\r\n                  {product.sellingModel === TERM_DEFINED && (\r\n                    <span>\r\n                      for {product.pricingTerm}{\" \"}\r\n                      {product.pricingTermUnit.toLowerCase()}\r\n                    </span>\r\n                  )}\r\n                </b>\r\n              </h6>\r\n            </p>\r\n            <br />\r\n            <br />\r\n          </div>\r\n          {/* Control the content of the dialog based on which product has been selected */}\r\n          {selectedProduct ? (\r\n            <Dialog\r\n              open={open}\r\n              onClose={handleDialogClose}\r\n              aria-labelledby=\"alert-dialog-title\"\r\n              aria-describedby=\"alert-dialog-description\"\r\n            >\r\n              <DialogTitle id=\"alert-dialog-title\">\r\n                {selectedProduct.Name}\r\n              </DialogTitle>\r\n              <DialogContent>\r\n                <DialogContentText style={{ color: \"black\" }}>\r\n                  Price: ${selectedProduct.price}{\" \"}\r\n                  {selectedProduct.sellingModel != ONE_TIME &&\r\n                    convertUnitTerm(selectedProduct.pricingTermUnit)}{\" \"}\r\n                </DialogContentText>\r\n                <DialogContentText style={{ color: \"black\" }}>\r\n                  {selectedProduct.sellingModel == TERM_DEFINED && (\r\n                    <div>\r\n                      <p>\r\n                        Term: {selectedProduct.pricingTerm}{\" \"}\r\n                        {selectedProduct.pricingTermUnit.toLowerCase()}\r\n                      </p>\r\n                    </div>\r\n                  )}{\" \"}\r\n                </DialogContentText>\r\n              </DialogContent>\r\n              <DialogContent>\r\n                <DialogContentText style={{ color: \"black\" }}>\r\n                  Quantity:\r\n                  <input\r\n                    style={{ width: \"35%\", textAlign: \"center\" }}\r\n                    type=\"text\"\r\n                    pattern=\"[1-9][0-9]*\"\r\n                    onInput={handleQuantityChange}\r\n                    value={selectedQuantity}\r\n                  />\r\n                </DialogContentText>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button onClick={handleDialogClose} color=\"primary\">\r\n                  Cancel\r\n                </Button>\r\n                <Button onClick={addToCart} color=\"primary\" autoFocus>\r\n                  Add to cart\r\n                </Button>\r\n              </DialogActions>\r\n            </Dialog>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <Snackbar\r\n            open={snackbarOpen}\r\n            autoHideDuration={6000}\r\n            onClose={handleSnackbarClose}\r\n          >\r\n            <Alert onClose={handleSnackbarClose} severity=\"success\">\r\n              Item added to cart!\r\n            </Alert>\r\n          </Snackbar>\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"page-header\">\r\n        <div style={{'padding-left': '1em'}}><h5>Store</h5>Hello {localStorage.getItem('userName')}, welcome to SmartBytes web store.</div>\r\n        <img className=\"header-image\" src={analytics}/>\r\n      </div>\r\n      <h5 className=\"center\" style={{ marginTop: \"3%\" }}>\r\n        Products\r\n      </h5>\r\n      <div style={{ margin: \"auto\", width: \"35%\" }}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search for a product\"\r\n          value={searchTerm}\r\n          onChange={handleSearchChange}\r\n        />\r\n        <button\r\n          style={{\r\n            position: \"absolute\",\r\n            color: \"white\",\r\n            backgroundColor: \"#13334C\",\r\n            marginLeft: \"1vw\",\r\n          }}\r\n          type=\"button\"\r\n          className=\"btn btn-default\"\r\n          onClick={handleSearchSubmit}\r\n        >\r\n          Search\r\n        </button>\r\n      </div>\r\n      {!currentSearch ? (\r\n        <h6 style={{ textAlign: \"center\" }}>Showing all results</h6>\r\n      ) : (\r\n        <h5 style={{ textAlign: \"center\" }}>\r\n          Showing results for \"{currentSearch}\"\r\n        </h5>\r\n      )}\r\n      {!loading ? (\r\n        <div>\r\n          {products.length === 0 ? (\r\n            <h5 style={{ textAlign: \"center\" }}>No products found.</h5>\r\n          ) : (\r\n            <div\r\n              className=\"box\"\r\n              style={{\r\n                marginTop: \"4vh\",\r\n                justifyContent: \"space-evenly\",\r\n                marginBottom: \"10vh\",\r\n              }}\r\n            >\r\n              {itemList}\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <img\r\n          style={{ margin: \"auto\", display: \"flex\" }}\r\n          src=\"https://miro.medium.com/max/1080/0*DqHGYPBA-ANwsma2.gif\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport useToken from \"./useToken\";\r\nimport { Col, Container, Row } from \"react-bootstrap\";\r\nimport Select from \"react-select\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\n\r\n// Card images\r\nimport mastercard from \"../images/mastercard.png\";\r\nimport visa from \"../images/visa.jpg\";\r\nimport diners from \"../images/diners.png\";\r\nimport jcb from \"../images/jcb.png\";\r\nimport maestro from \"../images/maestro.png\";\r\nimport amex from \"../images/amex.png\";\r\n\r\nconst BASE_URL = `${process.env.REACT_APP_API_ENDPOINT}/services/data/v${process.env.REACT_APP_API_VERSION}`;\r\n\r\nexport default function Cart({ cart, setCart }) {\r\n  const { token, setToken } = useToken();\r\n  const [loading, setLoading] = useState(true);\r\n  const [orderExecuting, setOrderExecuting] = useState(false);\r\n\r\n  const [paymentOptions, setPaymentOptions] = useState();\r\n  const [selectedPayment, setSelectedPayment] = useState(null);\r\n  const history = useHistory();\r\n\r\n  // Calculate the cart sum\r\n  const getTotalSum = () => {\r\n    let raw = cart.reduce(\r\n      (sum, { netPrice, quantity }) => sum + netPrice * quantity,\r\n      0\r\n    );\r\n    return (Math.round(raw * 100) / 100).toFixed(2);\r\n  };\r\n\r\n  const clearCart = () => {\r\n    setCart([]);\r\n  };\r\n\r\n  // Return the appropriate image for each payment method\r\n  function getCardImage(card) {\r\n    switch (card) {\r\n      case \"MasterCard\":\r\n        return mastercard;\r\n      case \"Jcb\":\r\n        return jcb;\r\n      case \"Visa\":\r\n        return visa;\r\n      case \"AmericanExpress\":\r\n        return amex;\r\n      case \"Maestro\":\r\n        return maestro;\r\n      case \"DinersClub\":\r\n        return diners;\r\n    }\r\n  }\r\n\r\n  // Create the request body for calling the BuyNow API\r\n  function constructBuyNowBody() {\r\n    let effectiveDate = moment(new Date()).format(\"YYYY-MM-DD\").toString();\r\n    let raw = {\r\n      inputs: [\r\n        {\r\n          order: {\r\n            attributes: {\r\n              type: \"Order\",\r\n            },\r\n            AccountId: `${process.env.REACT_APP_ACCOUNT_ID}`,\r\n            EffectiveDate: effectiveDate,\r\n            EndDate: null,\r\n            Pricebook2Id: `${process.env.REACT_APP_PRICEBOOK_ID}`,\r\n            Status: \"Draft\",\r\n            CurrencyIsoCode: \"USD\",\r\n          },\r\n          orderItems: new Array(),\r\n          paymentMethodId: selectedPayment.value,\r\n        },\r\n      ],\r\n    };\r\n    // Go through each item in the cart and create an OrderItem entry\r\n    let index = 0;\r\n    for (index; index < cart.length; index++) {\r\n      let product = cart[index];\r\n      let entry = {\r\n        attributes: {\r\n          type: \"OrderItem\",\r\n        },\r\n        UnitPrice: parseFloat(product.unitPrice),\r\n        PricebookEntryId: `${product.Id}`,\r\n        Quantity: product.quantity,\r\n        ProductSellingModelId: `${product.ProductSellingModelId}`,\r\n        TaxTreatmentId: \"1ttR000000001BqIAI\",\r\n        CurrencyIsoCode: \"USD\",\r\n      };\r\n      raw.inputs[0].orderItems.push(entry);\r\n    }\r\n    return JSON.stringify(raw);\r\n  }\r\n\r\n  // SObject API call to query saved CardPaymentMethods\r\n  async function getPaymentMethods() {\r\n    let requestHeaders = new Headers();\r\n    requestHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n    requestHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n    let requestOptions = {\r\n      method: \"GET\",\r\n      headers: requestHeaders,\r\n      redirect: \"follow\",\r\n    };\r\n\r\n    await fetch(\r\n      `${BASE_URL}/queryAll/?q=SELECT CardCategory,CardHolderFirstName,CardHolderLastName,CardLastFour,CardTypeCategory,NickName,Status,Id FROM CardPaymentMethod WHERE Status = 'Active'`,\r\n      requestOptions\r\n    )\r\n      .then((response) => response.text())\r\n      .then((result) => {\r\n        let payments = JSON.parse(result).records;\r\n        let options = new Array();\r\n        // Use the result to populate the picklist of payment methods\r\n        for (let i = 0; i < payments.length; i++) {\r\n          let card = payments[i];\r\n          options.push({\r\n            value: card.Id,\r\n            label: (\r\n              <div>\r\n                <img\r\n                  src={getCardImage(card.CardTypeCategory)}\r\n                  style={{ width: \"10%\" }}\r\n                />{\" \"}\r\n                {card.CardTypeCategory} x{card.CardLastFour}\r\n              </div>\r\n            ),\r\n          });\r\n        }\r\n        if (options.length > 0) {\r\n          setSelectedPayment(options[0]);\r\n        }\r\n        setPaymentOptions(options);\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  }\r\n\r\n  // Call the BuyNow API\r\n  const executeBuyNow = async () => {\r\n    if (paymentOptions.length == 0 || selectedPayment == null) {\r\n      alert(\"No payment method selected. Please try again.\");\r\n      return;\r\n    }\r\n    setOrderExecuting(true);\r\n    let requestHeaders = new Headers();\r\n    requestHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n    requestHeaders.append(\"Content-Type\", \"application/json\");\r\n    let requestBody = constructBuyNowBody();\r\n    let requestOptions = {\r\n      method: \"POST\",\r\n      headers: requestHeaders,\r\n      body: requestBody,\r\n      redirect: \"follow\",\r\n    };\r\n    await fetch(\r\n      `${BASE_URL}/actions/custom/flow/Buy_Now_Assets_Final`,\r\n      requestOptions\r\n    )\r\n      .then((response) => response.text())\r\n      .then((result) => {\r\n        let orderInfo = JSON.parse(result)[0];\r\n        if (orderInfo.isSuccess) {\r\n          let orderNumber = orderInfo.outputValues.orderOutput.OrderNumber;\r\n          setOrderExecuting(false);\r\n          clearCart();\r\n          // Redirect to order confirmation page upon success\r\n          history.push(`/confirmation/${orderNumber}`);\r\n        } else {\r\n          console.log(orderInfo);\r\n          setOrderExecuting(false);\r\n          alert(\"Order unsucccessful. Please try again.\");\r\n        }\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  };\r\n\r\n  // Creates the request body for the pricing engine API using all pricebook entries\r\n  function constructPricingBody() {\r\n    let raw = {\r\n      listPricebookId: `${process.env.REACT_APP_PRICEBOOK_ID}`,\r\n      candidatePricebookIds: [`${process.env.REACT_APP_PRICEBOOK_ID}`],\r\n      pricingFlow: \"GET_FINAL_PRICE\",\r\n      roundingMode: \"RoundHalfUp\",\r\n      graph: {\r\n        graphId: \"1\",\r\n        records: [\r\n          {\r\n            referenceId: \"ref_sales_txn\",\r\n            record: {\r\n              attributes: {\r\n                type: \"SalesTransaction\",\r\n              },\r\n              CurrencyIsoCode: \"USD\",\r\n            },\r\n          },\r\n        ],\r\n      },\r\n    };\r\n\r\n    // Go through pricebook entries and construct a request for each one\r\n    let index = 1;\r\n    for (index; index <= cart.length; index++) {\r\n      let product = cart[index - 1];\r\n      let entry = {\r\n        referenceId: \"ref_sales_txn_item\" + index,\r\n        record: {\r\n          attributes: {\r\n            type: \"SalesTransactionItem\",\r\n          },\r\n          CurrencyIsoCode: \"USD\",\r\n          SalesTransactionId: \"@{ref_sales_txn.Id}\",\r\n          ProductId: product.Product2Id,\r\n          Quantity: `${product.quantity}`,\r\n          ProductSellingModelId: product.ProductSellingModelId,\r\n        },\r\n      };\r\n      raw.graph.records.push(entry);\r\n    }\r\n    return JSON.stringify(raw);\r\n  }\r\n\r\n  // Call the pricing engine API to calculate final prices for all cart items\r\n  async function getPrices() {\r\n    let requestHeaders = new Headers();\r\n    requestHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n    requestHeaders.append(\"Content-Type\", \"application/json\");\r\n    let requestBody = constructPricingBody();\r\n\r\n    let requestOptions = {\r\n      method: \"POST\",\r\n      headers: requestHeaders,\r\n      body: requestBody,\r\n      redirect: \"follow\",\r\n    };\r\n\r\n    setLoading(true);\r\n    await fetch(\r\n      `${BASE_URL}/commerce/pricing/salestransaction/actions/calculate-price`,\r\n      requestOptions\r\n    )\r\n      .then((response) => response.text())\r\n      .then((result) => {\r\n        let pricingData = JSON.parse(result);\r\n        let index = 1;\r\n        let adjustmentIndex = index + cart.length;\r\n        for (index; index <= cart.length; index++) {\r\n          let product = cart[index - 1];\r\n\r\n          let unitPrice = pricingData.records[index].record.ListPrice;\r\n          let netPrice = pricingData.records[index].record.NetUnitPrice;\r\n          let totalPrice = pricingData.records[index].record.TotalPrice;\r\n\r\n          let adjustment =\r\n            pricingData.records[index].record.TotalAdjustmentAmount;\r\n          // Round and format prices\r\n          product.unitPrice = (Math.round(unitPrice * 100) / 100).toFixed(2);\r\n          product.netPrice = (Math.round(netPrice * 100) / 100).toFixed(2);\r\n          product.adjustment = (Math.round(adjustment * 100) / 100).toFixed(2);\r\n          product.totalPrice = (product.netPrice * product.quantity).toFixed(2);\r\n          product.priceChange = (\r\n            Math.round(Math.abs(unitPrice - netPrice) * 100) / 100\r\n          ).toFixed(2);\r\n\r\n          // Handle any adjustments\r\n          if (adjustment != 0) {\r\n            let priceAdjustmentItem = pricingData.records[adjustmentIndex];\r\n\r\n            product.adjustmentDesc = priceAdjustmentItem.record.Description; // Description/reason for adjustment\r\n            let adjustmentVal = priceAdjustmentItem.record.AdjustmentValue; // Amount\r\n            let adjustmentType = priceAdjustmentItem.record.AdjustmentType; // Type\r\n            let totalAdjustment = priceAdjustmentItem.record.TotalAmount;\r\n            // Create a string to render the adjustment details\r\n            let adjustmentString = \"\";\r\n            switch (adjustmentType) {\r\n              case \"AdjustmentPercentage\":\r\n                adjustmentString += Math.abs(adjustmentVal).toString() + \"%\";\r\n                break;\r\n              case \"AdjustmentAmount\":\r\n                adjustmentString +=\r\n                  \"$\" +\r\n                  (Math.round(Math.abs(adjustmentVal) * 100) / 100)\r\n                    .toFixed(2)\r\n                    .toString();\r\n                break;\r\n            }\r\n            if (totalAdjustment > 0) {\r\n              adjustmentString += \" addl. charge\";\r\n            } else {\r\n              adjustmentString += \" off\";\r\n            }\r\n            product.adjustmentString = adjustmentString;\r\n            adjustmentIndex++;\r\n          }\r\n        }\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  }\r\n\r\n  async function populateData() {\r\n    await getPrices();\r\n    await getPaymentMethods();\r\n    setLoading(false);\r\n  }\r\n\r\n  // Swap wording for terms\r\n  function convertUnitTerm(term) {\r\n    switch (term) {\r\n      case \"Days\":\r\n        return \"daily\";\r\n      case \"Months\":\r\n        return \"monthly\";\r\n      case \"Years\":\r\n        return \"yearly\";\r\n    }\r\n    return term;\r\n  }\r\n\r\n  useEffect(() => {\r\n    populateData();\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }, [cart]);\r\n\r\n  // Update item quantities\r\n  const setQuantity = (prod, amount) => {\r\n    const newCart = [...cart];\r\n    newCart.find((product) => product.Name === prod.Name).quantity = amount;\r\n    setCart(newCart);\r\n  };\r\n\r\n  const removeFromCart = (productToRemove) => {\r\n    setCart(cart.filter((product) => product !== productToRemove));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <img\r\n          style={{ margin: \"auto\", display: \"flex\" }}\r\n          src=\"https://miro.medium.com/max/1080/0*DqHGYPBA-ANwsma2.gif\"\r\n        />\r\n      ) : (\r\n        <div className=\"container\">\r\n          <div className=\"page-header\">\r\n            <div style={{'padding-left': '1em'}}>\r\n              <h5>Cart</h5>\r\n              Here is what you've added so far.\r\n            </div>\r\n          </div>\r\n          <div>\r\n            {cart.map((product, idx) => (\r\n              <ul\r\n                className=\"collection\"\r\n                style={{ width: \"100%\", margin: \"auto\" }}\r\n              >\r\n                <li className=\"collection-item\" key={product.Id}>\r\n                  <Container style={{ width: \"100%\" }}>\r\n                    <Row>\r\n                      <Col\r\n                        className=\"cart-col\"\r\n                        style={{ width: \"10%\", position: \"relative\" }}\r\n                      >\r\n                        {product.img && (\r\n                          <img\r\n                            src={product.img}\r\n                            alt={product.img}\r\n                            style={{\r\n                              width: \"75%\",\r\n                              margin: \"0\",\r\n                              position: \"absolute\",\r\n                              transform: \"translateY(50%)\",\r\n                              top: \"50%\",\r\n                            }}\r\n                          />\r\n                        )}\r\n                      </Col>\r\n                      <Col className=\"cart-col\">\r\n                        <div className=\"item-desc\">\r\n                          <h5 style={{ overflowWrap: \"break-word\" }}>\r\n                            {product.Name}\r\n                          </h5>\r\n                          {product.adjustment == 0 ? (\r\n                            <b>\r\n                              Price: ${product.unitPrice}{\" \"}\r\n                              {product.sellingModel == \"Evergreen\" && (\r\n                                <span>\r\n                                  {convertUnitTerm(product.pricingTermUnit)}\r\n                                </span>\r\n                              )}\r\n                            </b>\r\n                          ) : (\r\n                            <div>\r\n                              <span>Unit price: ${product.unitPrice}</span>\r\n                              <br />\r\n                            </div>\r\n                          )}\r\n                          {product.adjustment > 0 && (\r\n                            <span style={{ color: \"green\" }}>\r\n                              Surcharges: +$\r\n                              {product.priceChange}\r\n                              <span>\r\n                                {\" \"}\r\n                                ({product.adjustmentString} -{\" \"}\r\n                                {product.adjustmentDesc})\r\n                              </span>\r\n                            </span>\r\n                          )}\r\n                          {product.adjustment < 0 && (\r\n                            <span style={{ color: \"red\" }}>\r\n                              Discounts: -$\r\n                              {product.priceChange}\r\n                              <span>\r\n                                {\" \"}\r\n                                ({product.adjustmentString} -{\" \"}\r\n                                {product.adjustmentDesc})\r\n                              </span>\r\n                            </span>\r\n                          )}\r\n                          <p>\r\n                            {product.adjustment != 0 && (\r\n                              <b>\r\n                                Price: ${product.netPrice}{\" \"}\r\n                                {product.sellingModel == \"Evergreen\" && (\r\n                                  <span>\r\n                                    {convertUnitTerm(product.pricingTermUnit)}\r\n                                  </span>\r\n                                )}{\" \"}\r\n                                {product.sellingModel === \"TermDefined\" && (\r\n                                  <span>\r\n                                    for {product.pricingTerm}{\" \"}\r\n                                    {product.pricingTermUnit.toLowerCase()}\r\n                                  </span>\r\n                                )}\r\n                              </b>\r\n                            )}\r\n                          </p>\r\n                        </div>\r\n                      </Col>\r\n                      <Col\r\n                        className=\"cart-col col-center\"\r\n                        style={{ marginTop: \"2%\" }}\r\n                      >\r\n                        <p>\r\n                          <b>Quantity: {product.quantity}</b>\r\n                        </p>\r\n                        <div className=\"add-remove\">\r\n                          <Link to=\"/\">\r\n                            <i\r\n                              className=\"material-icons\"\r\n                              style={{ color: \"#039be5\" }}\r\n                              onClick={() => {\r\n                                setQuantity(product, product.quantity + 1);\r\n                              }}\r\n                            >\r\n                              add\r\n                            </i>\r\n                          </Link>\r\n                          <Link to=\"/\">\r\n                            <i\r\n                              className=\"material-icons\"\r\n                              style={{ color: \"#039be5\" }}\r\n                              onClick={() => {\r\n                                product.quantity == 1\r\n                                  ? removeFromCart(product)\r\n                                  : setQuantity(product, product.quantity - 1);\r\n                              }}\r\n                            >\r\n                              remove\r\n                            </i>\r\n                          </Link>\r\n                        </div>\r\n                      </Col>\r\n                      <Col\r\n                        className=\"cart-col col-center\"\r\n                        style={{ position: \"absolute\", left: \"73%\" }}\r\n                      >\r\n                        <b style={{ marginBottom: \"5%\", marginTop: \"10%\" }}>\r\n                          Total: ${product.totalPrice}\r\n                        </b>\r\n                        <Link to=\"/\">\r\n                          <i\r\n                            className=\"material-icons md-18\"\r\n                            style={{ color: \"#039be5\" }}\r\n                            onClick={() => {\r\n                              removeFromCart(product);\r\n                            }}\r\n                          >\r\n                            delete\r\n                          </i>\r\n                        </Link>\r\n                      </Col>\r\n                    </Row>\r\n                  </Container>\r\n                </li>\r\n              </ul>\r\n            ))}\r\n          </div>\r\n          {cart.length > 0 ? (\r\n            <div className=\"container\" style={{width: '100%'}}>\r\n              <div>\r\n                <Row>\r\n                  <li\r\n                    style={{\r\n                      textAlign: \"right\",\r\n                      display: \"grid\",\r\n                      padding: \"2%\",\r\n                    }}\r\n                  >\r\n                    <h5>Total: ${getTotalSum()}</h5>\r\n                  </li>\r\n\r\n                  <div style={{ width: \"30%\", float: \"right\" }}>\r\n                    <p style={{ textAlign: \"center\" }}>Saved Payment Methods</p>\r\n                    <Select\r\n                      defaultValue={paymentOptions[0] || \"N/A\"}\r\n                      onChange={setSelectedPayment}\r\n                      options={paymentOptions}\r\n                      menuPortalTarget={document.body}\r\n                      menuPosition={\"fixed\"}\r\n                      isSearchable={false}\r\n                    />{\" \"}\r\n                  </div>\r\n                </Row>\r\n              </div>\r\n\r\n              {!orderExecuting ? (\r\n                <div\r\n                  className=\"checkout\"\r\n                  style={{\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    flexDirection: \"row-reverse\",\r\n                    marginBottom: \"10%\",\r\n                  }}\r\n                >\r\n                  <div>\r\n                    <button\r\n                      className=\"waves-effect waves-light red btn\"\r\n                      style={{ margin: \"1vh\" }}\r\n                      onClick={clearCart}\r\n                    >\r\n                      Clear Cart\r\n                    </button>\r\n                    <button\r\n                      className=\"waves-effect waves-light green btn\"\r\n                      onClick={executeBuyNow}\r\n                    >\r\n                      Buy Now\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div style={{ float: \"right\", width: \"30%\" }}>\r\n                  <h5 style={{ textAlign: \"center\" }}>Placing order...</h5>\r\n                  <img\r\n                    style={{ margin: \"auto\", display: \"flex\", width: \"60%\" }}\r\n                    src=\"https://miro.medium.com/max/1080/0*DqHGYPBA-ANwsma2.gif\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <h5 style={{ textAlign: \"center\", padding: \"5%\" }}>\r\n              Cart is empty.\r\n            </h5>\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport \"./Login.css\";\n\n// Used to log in the user by fetching the token\nasync function loginUser(credentials) {\n  let requestHeaders = new Headers();\n\n  let formdata = new FormData();\n  formdata.append(\"grant_type\", \"password\");\n  // Configure these fields in the Salesforce Org\n  formdata.append(\"client_id\", `${process.env.REACT_APP_CONNECTED_APP_ID}`);\n  formdata.append(\n    \"client_secret\",\n    `${process.env.REACT_APP_CONNECTED_APP_SECRET}`\n  );\n\n  // Takes in the data provided from the user in the form\n  formdata.append(\"username\", credentials.username);\n  formdata.append(\"password\", credentials.password);\n\n  let requestOptions = {\n    method: \"POST\",\n    headers: requestHeaders,\n    body: formdata,\n    redirect: \"follow\",\n  };\n\n  let token = \"\";\n  await fetch(\n    `${process.env.REACT_APP_API_ENDPOINT}/services/oauth2/token`,\n    requestOptions\n  )\n    .then((response) => response.text())\n    .then((result) => {\n      // If a valid token is returned, save the value and return it\n      let json = JSON.parse(result);\n      if (json.error) {\n        return token;\n      } else {\n        const parsedResult = JSON.parse(result);\n        token = parsedResult.access_token;\n        localStorage.setItem(\"userid\", parsedResult.id.split('/')[5]);\n      }\n    })\n    .catch((error) => console.log(\"error\", error));\n\n  return token;\n}\n\nexport default function Login({ setToken }) {\n  const [username, setUserName] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState();\n\n  // Triggered when the user presses the log in button\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError();\n    const token = await loginUser({\n      username,\n      password,\n    });\n    // If a valid token is returned, set it for use throughout the application\n    if (token.length === 0) {\n      setError(\"Invalid login. Please try again.\");\n    } else {\n      setToken(token);\n    }\n  };\n\n  return (\n    <div className=\"login-wrapper\">\n      <h3>Sign in</h3>\n      <form className=\"login-form\" onSubmit={handleSubmit}>\n        <div className=\"login-inputs\">\n          <label>\n            <p>Username</p>\n            <input type=\"text\" onChange={(e) => setUserName(e.target.value)} />\n          </label>\n        </div>\n\n        <div className=\"login-inputs\">\n          <label>\n            <p>Password</p>\n            <input\n              type=\"password\"\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </label>\n        </div>\n        <div>\n          {error ? (\n            <p\n              style={{\n                color: \"red\",\n                textAlign: \"center\",\n                fontSize: \"2vh\",\n              }}\n            >\n              {error}\n            </p>\n          ) : (\n            \"\"\n          )}\n          <button\n            style={{ backgroundColor: \"rgb(0, 112, 210)\", width: \"100%\" }}\n            class=\"btn btn-primary\"\n            type=\"submit\"\n          >\n            Log in\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nLogin.propTypes = {\n  setToken: PropTypes.func.isRequired,\n};\n","import React, { useEffect, useState } from \"react\";\nimport useToken from \"../useToken\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport moment from \"moment\";\nimport { Button, Dropdown } from \"react-materialize\";\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n} from \"@material-ui/core\";\nimport DatePicker from \"react-date-picker\";\nimport io from \"socket.io-client\";\nimport loadingImg from \"../../images/loading.gif\";\nimport ownedImg from \"../../images/owned.png\";\nimport \"./Assets.css\";\n\nconst TERM_DEFINED = \"TermDefined\";\nconst ONE_TIME = \"OneTime\";\nconst EVERGREEN = \"Evergreen\";\nconst SELLING_MODEL_TYPES = {\n  'OneTime': 'One Time',\n  'Evergreen': 'Evergreen',\n  'TermDefined': 'Term Defined'\n}\n\nconst SOCKET_ENDPOINT = \"https://self-service-webstore.herokuapp.com/\";\nconst BASE_URL = `${process.env.REACT_APP_API_ENDPOINT}/services/data/v${process.env.REACT_APP_API_VERSION}`;\n\nexport default function Assets({ setCart, cart }) {\n  const { token, setToken } = useToken();\n  const [assets, setAssets] = useState([]);\n\n  const [open, setOpen] = useState(false); // State of popup dialog\n  const [selectedAsset, setSelectedAsset] = useState(null); // Asset data for popup\n\n  const [date, onDateChange] = useState(new Date());\n\n  const [loading, setLoading] = useState(true);\n  const [events] = useState(new Map());\n\n  // Create socket.io connection for streaming messages\n  let socket = io(SOCKET_ENDPOINT, {\n    transports: [\"websocket\", \"polling\", \"flashsocket\", \"xhr-polling\"],\n  });\n\n  // Used to swap wording for pricing term units\n  function convertUnitTerm(term) {\n    switch (term) {\n      case \"Days\":\n        return \"daily\";\n      case \"Months\":\n        return \"monthly\";\n      case \"Years\":\n        return \"yearly\";\n    }\n    return term;\n  }\n\n  // Execute the cancellation operation\n  const handleCancel = async () => {\n    let requestHeaders = new Headers();\n    requestHeaders.append(\"X-Requested-With\", \"XMLHttpRequest\");\n    requestHeaders.append(\"Authorization\", \"Bearer \" + token);\n    requestHeaders.append(\"Content-Type\", \"application/json\");\n    date.setUTCHours(23, 59, 59, 0);\n    let raw = JSON.stringify({\n      assetIds: [selectedAsset.Id],\n      cancellationDate: moment\n        .utc(date, \"MM-DD-YYYY\")\n        .add(1, \"days\")\n        .format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\")\n    });\n\n    let requestOptions = {\n      method: \"POST\",\n      headers: requestHeaders,\n      body: raw,\n      redirect: \"follow\",\n    };\n\n    // API call to initiate the cancellation flow\n    await fetch(\n      `${BASE_URL}/asset-management/assets/collection/actions/initiate-cancellation`,\n      requestOptions\n    )\n      .then((response) => response.text())\n      .then(async (result) => {\n        let id = JSON.parse(result).requestId;\n        let timer = setInterval(() => {\n          if (events.has(id)) {\n            clearInterval(timer);\n            let message = events.get(id);\n            if (message.payload.HasErrors) {\n              alert(\"Error during cancellation. Please try again.\");\n\t      console.log('Error event detail: ', message);\n            } else {\n              alert(\n                `Cancellation order has been created for ${selectedAsset.Name}.`\n              );\n            }\n            events.clear();\n          }\n        }, 2000);\n      })\n      .catch((error) => console.log(\"error\", error));\n    handleDialogClose();\n  };\n\n  // Reset values after the popup is closed for an item\n  const handleDialogClose = () => {\n    setOpen(false);\n    setSelectedAsset(null);\n  };\n\n  async function fetchPricingData() {\n    let pricingData = [];\n    let requestHeaders = new Headers();\n    let pricingMap = new Map();\n    // Use token acquired at login\n    requestHeaders.append(\"Authorization\", \"Bearer \" + token);\n    requestHeaders.append(\"Content-Type\", \"application/json\");\n\n    let requestOptions = {\n      method: \"GET\",\n      headers: requestHeaders,\n      redirect: \"follow\",\n    };\n\n    // API call URL to fetch pricebook entries for correlating assets to product data\n    let requestUrl = `${BASE_URL}/queryAll/?q=SELECT Id,Name,Product2Id, Product2.Name, ProductSellingModelId,ProductSellingModel.Name,ProductSellingModel.PricingTerm,ProductSellingModel.PricingTermUnit,ProductSellingModel.SellingModelType FROM PricebookEntry WHERE Pricebook2Id = '${`${process.env.REACT_APP_PRICEBOOK_ID}`}' AND IsActive = true AND CurrencyIsoCode = 'USD'`;\n    await fetch(requestUrl, requestOptions)\n      .then((response) => response.text())\n      .then(async (result) => {\n        pricingData = JSON.parse(result).records;\n        // Create a map of product2 ids to pricebook entries\n        let index = 0;\n        for (index; index < pricingData.length; index++) {\n          pricingMap.set(pricingData[index].Product2Id, pricingData[index]);\n        }\n      })\n      .catch((error) => console.log(\"error\", error));\n    return pricingMap;\n  }\n\n  async function fetchAssetData() {\n    let assetData = [];\n\n    let requestHeaders = new Headers();\n\n    // Use token acquired at login\n    requestHeaders.append(\"Authorization\", \"Bearer \" + token);\n    requestHeaders.append(\"Content-Type\", \"application/json\");\n\n    let requestOptions = {\n      method: \"GET\",\n      headers: requestHeaders,\n      redirect: \"follow\",\n    };\n\n    let assetList = [];\n\n    // API call URL to get all assets\n    let requestUrl = `${BASE_URL}/queryAll/?q=SELECT Id, Name, Price, Product2Id, PurchaseDate,CurrentQuantity,LifecycleStartDate, LifecycleEndDate FROM Asset WHERE CreatedById = '${localStorage.getItem(\"userid\")}' ORDER BY LifecycleStartDate DESC`;\n    await fetch(requestUrl, requestOptions)\n      .then((response) => response.text())\n      .then(async (result) => {\n        assetData = JSON.parse(result).records;\n        let pricingMap = await fetchPricingData();\n        // Use the map to get selling model data for each asset\n        let index = 0;\n        const assetIds = [];\n        for (index; index < assetData.length; index++) {\n          let currentAsset = assetData[index];\n          assetIds.push(currentAsset.Id);\n          if (pricingMap.has(currentAsset.Product2Id)) {\n            currentAsset.ProductSellingModel = pricingMap.get(\n              currentAsset.Product2Id\n            ).ProductSellingModel;\n            currentAsset.Status = 'Active';\n            currentAsset.Period = moment\n                .utc(currentAsset.LifecycleStartDate)\n                .format(\"MMM DD, YYYY\")\n                .toString() + ' - ';\n            if (currentAsset.LifecycleEndDate) {\n              currentAsset.Period += moment\n                  .utc(currentAsset.LifecycleEndDate)\n                  .format(\"MMM DD, YYYY\")\n                  .toString();\n              if (currentAsset.ProductSellingModel.SellingModelType === 'Evergreen') {\n                currentAsset.Status = 'Cancelled';\n              }\n            }\n            currentAsset.SellingModelType = SELLING_MODEL_TYPES[currentAsset.ProductSellingModel.SellingModelType];\n            assetList.push(currentAsset);\n          }\n        }\n        console.log('All assets', assetList);\n        if (assetIds.length > 0) {\n          const bsgReqUrl = `${BASE_URL}/queryAll/?q=SELECT Id, ReferenceEntity.Id, EffectiveNextBillingDate, CurrentBillingPeriodAmount, TotalPendingAmount FROM BillingScheduleGroup WHERE ReferenceEntity.Id IN ('${assetIds.join('\\', \\'')}')`;\n          await fetch(bsgReqUrl, requestOptions)\n            .then((response) => response.text())\n            .then(async (result) => {\n              const bsgRecords = JSON.parse(result).records;\n              bsgRecords.forEach(r => {\n                const assetId = r.ReferenceEntity.Id;\n                const asset = assetList.find(a => a.Id === assetId);\n                if (asset) {\n                  if (r.EffectiveNextBillingDate) {\n                    asset.NextBillingDate = moment.utc(r.EffectiveNextBillingDate).format(\"MMM DD, YYYY\").toString();\n                  } else {\n                    asset.NextBillingDate = 'N/A';\n                  }\n                }\n              })\n              console.log('got bsg result', bsgRecords);\n            });\n        }\n      })\n      .catch((error) => console.log(\"error\", error));\n    setAssets(assetList);\n  }\n\n  // Wait for API calls to finish before terminating loading\n  async function populateData() {\n    await fetchAssetData();\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    socket.on(\"AssetEvent\", (message) => {\n      events.set(message.payload.RequestId, message);\n    });\n    populateData();\n  }, [cart]);\n\n  return (\n    <div>\n      {loading ? (\n        <img style={{ margin: \"auto\", display: \"flex\" }} src={loadingImg} />\n      ) : (\n        <div className=\"container\">\n          <div className=\"page-header\">\n            <div style={{'padding-left': '1em'}}>\n              <h5>What I Own</h5>\n              See the list of your assets, and make changes to them.\n            </div>\n            <img className=\"header-image\" src={ownedImg}/>\n          </div>\n          {assets.length === 0 ? (\n            <h5 style={{ textAlign: \"center\" }}>No products found.</h5>\n          ) : (\n            <div>\n              {assets.map((asset) => (\n                <div>\n                  <ul\n                    className=\"collection\"\n                    style={{ width: \"100%\", margin: \"auto\" }}\n                  >\n                    <li className=\"collection-item\" key={asset.Id}>\n                      <Container style={{ width: \"100%\" }}>\n                        <Row>\n                          <Col style={{ width: \"78%\", marginLeft: \"2%\" }}>\n                            <Row>\n                              <div className=\"item-desc\">\n                                <h5 style={{ overflowWrap: \"break-word\" }}>\n                                  {asset.Name}\n                                  <span className={asset.Status == 'Active' ? 'new green badge' : 'new red badge'}\n                                        data-badge-caption=\"\">\n                                  {asset.Status}\n                                </span>\n                                </h5>\n                              </div>\n                            </Row>\n                            <Row>\n                              <p>\n                                {asset.CurrentQuantity && (\n                                  <span>\n                                    {asset.CurrentQuantity} user\n                                    {asset.CurrentQuantity > 1 && <span>s</span>}\n                                    {\" | \"}\n                                  </span>\n                                )}\n                                {asset.SellingModelType}{\" | \"}\n                                {asset.ProductSellingModel.SellingModelType && (\n                                  <span>\n                                    {asset.ProductSellingModel\n                                      .SellingModelType == TERM_DEFINED && (\n                                      <span>\n                                        Term:{\" \"}\n                                        {asset.ProductSellingModel.PricingTerm}{\" \"}\n                                        {asset.ProductSellingModel.PricingTermUnit.toLowerCase()}{\" \"}\n                                        {\" | \"}\n                                      </span>\n                                    )}\n                                    {asset.ProductSellingModel\n                                      .SellingModelType == EVERGREEN && (\n                                      <span>\n                                        Billing{\" \"}\n                                        {convertUnitTerm(\n                                          asset.ProductSellingModel\n                                            .PricingTermUnit\n                                        )}\n                                      </span>\n                                    )}{\" \"}\n                                  </span>\n                                )}\n                              </p>\n                            </Row>\n                            <Row>\n                              <Col>\n                                {asset.NextBillingDate && (\n                                    <span>\n                                      <div>Next Billing Date:</div>\n                                      <strong>{asset.NextBillingDate}</strong>\n                                  </span>\n                                )}\n                              </Col>\n                              <Col>\n                                {asset.Period && (\n                                  <span>\n                                    <div>Period:</div>\n                                    <strong>{asset.Period}</strong>\n                                  </span>\n                                )}\n                              </Col>\n                            </Row>\n                          </Col>\n                          <Col style={{ width: \"20%\" }}>\n                            <h6\n                              style={{ marginTop: \"50%\", textAlign: \"center\" }}\n                            >\n                              {asset.Price && (\n                                <span>\n                                  ${asset.Price}\n                                  {asset.ProductSellingModel.SellingModelType !=\n                                    ONE_TIME && (\n                                    <span>\n                                      {\" \"}\n                                      {convertUnitTerm(\n                                        asset.ProductSellingModel\n                                          .PricingTermUnit\n                                      )}\n                                    </span>\n                                  )}{\" \"}\n                                </span>\n                              )}\n                            </h6>\n                          </Col>\n\n                          <Col style={{ width: \"10%\" }}>\n                            <Dropdown\n                              id={\"dd\" + asset.Id}\n                              options={{\n                                alignment: \"right\",\n                                autoTrigger: true,\n                                closeOnClick: true,\n                                constrainWidth: true,\n                                container: null,\n                                coverTrigger: true,\n                                hover: false,\n                                inDuration: 150,\n                                onCloseEnd: null,\n                                onCloseStart: null,\n                                onOpenEnd: null,\n                                onOpenStart: null,\n                                outDuration: 250,\n                              }}\n                              trigger={\n                                <Button\n                                  style={{\n                                    position: \"absolute\",\n                                    top: \"10%\",\n                                    right: \"5%\",\n                                    backgroundColor: \"#13334C\",\n                                  }}\n                                  id={\"db\" + asset.Id}\n                                  node=\"button\"\n                                >\n                                  Options\n                                </Button>\n                              }\n                            >\n                              <a href=\"#\">Amend</a>\n                              {asset.LifecycleEndDate != null && (\n                                <a href=\"#\">Renew</a>\n                              )}\n                              {asset.LifecycleEndDate == null && (\n                                <a\n                                  onClick={() => {\n                                    setSelectedAsset(asset);\n                                    setOpen(true);\n                                  }}\n                                >\n                                  Cancel\n                                </a>\n                              )}\n                            </Dropdown>\n                          </Col>\n                        </Row>\n                      </Container>\n                    </li>\n                  </ul>\n                  <br />\n                </div>\n              ))}\n              {/* Control the content of the dialog based on which product has been selected */}\n              {selectedAsset ? (\n                <Dialog\n                  open={open}\n                  onClose={handleDialogClose}\n                  aria-labelledby=\"alert-dialog-title\"\n                  aria-describedby=\"alert-dialog-description\"\n                  fullWidth\n                  maxWidth=\"sm\"\n                >\n                  <DialogTitle id=\"alert-dialog-title\">\n                    Cancel {selectedAsset.Name}\n                  </DialogTitle>\n                  <DialogContent style={{ height: \"40vh\" }}>\n                    <p>\n                      Cancellation date:{\" \"}\n                      <DatePicker\n                        minDate={new Date()}\n                        onChange={onDateChange}\n                        value={date}\n                      />\n                    </p>\n                  </DialogContent>\n                  <DialogActions>\n                    <Button onClick={handleCancel} color=\"primary\">\n                      Cancel subscription\n                    </Button>\n                  </DialogActions>\n                </Dialog>\n              ) : (\n                \"\"\n              )}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport List from '@material-ui/core/List';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { HashRouter, Link, Route, Switch } from \"react-router-dom\";\nimport useToken from \"./useToken\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n    },\n    drawer: {\n        [theme.breakpoints.up('sm')]: {\n            width: drawerWidth,\n            flexShrink: 0,\n        },\n    },\n    appBar: {\n        [theme.breakpoints.up('sm')]: {\n            width: `calc(100% - ${drawerWidth}px)`,\n            marginLeft: drawerWidth,\n        },\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n        [theme.breakpoints.up('sm')]: {\n            display: 'none',\n        },\n    },\n    // necessary for content to be below app bar\n    toolbar: theme.mixins.toolbar,\n    drawerPaper: {\n        width: drawerWidth,\n    },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing(3),\n    },\n}));\n\nconst BASE_URL = `${process.env.REACT_APP_API_ENDPOINT}/services/data/v${process.env.REACT_APP_API_VERSION}`;\n\nfunction ResponsiveDrawer(props) {\n    console.log('props', props);\n    const { cartTotal, logout, window } = props;\n    const classes = useStyles();\n    const theme = useTheme();\n    const [mobileOpen, setMobileOpen] = React.useState(false);\n    const { token, setToken } = useToken();\n    const [photoUrl, setPhotoUrl] = React.useState();\n    const [userName, setUserName] = React.useState();\n    const [company, setCompany] = React.useState();\n\n    let requestHeaders = new Headers();\n    requestHeaders.append(\"X-Requested-With\", \"XMLHttpRequest\");\n    requestHeaders.append(\"Authorization\", \"Bearer \" + token);\n    requestHeaders.append(\"Content-Type\", \"application/json\");\n\n    let requestOptions = {\n        method: \"GET\",\n        headers: requestHeaders,\n        redirect: \"follow\",\n    };\n\n    fetch(\n        `${BASE_URL}/sobjects/User/${localStorage.getItem('userid')}`,\n        requestOptions\n    )\n        .then((response) => response.text())\n        .then((result) => {\n            const userData = JSON.parse(result);\n            console.log('user data', userData);\n            setPhotoUrl(userData.MediumPhotoUrl);\n            const userName = (userData.FirstName || '') + ' ' + userData.LastName;\n            setUserName(userName);\n            localStorage.setItem('userName', userName);\n            setCompany(userData.CompanyName || '');\n        });\n\n\n    const handleDrawerToggle = () => {\n        setMobileOpen(!mobileOpen);\n    };\n\n    const drawer = (\n        <div>\n            <div className={classes.toolbar} class=\"center\" style={{color: '#FFFFFF','line-height': '40px'}}>\n                <h4>SmartBytes</h4>\n                <img src={photoUrl} height=\"120px\" width=\"120px\" class=\"user-icon\"/>\n                <div class=\"user-info\">{userName}</div>\n                <div class=\"user-info\">{company}</div>\n            </div>\n            <Divider />\n            <List>\n                {[\n                    {label: 'Store', url: '/'},\n                    {label: 'What I Own', url: '/assets'},\n                    {label: 'Cart (' + cartTotal + ')', url: '/cart'}\n                ].map((item, index) => (\n                    <Link to={item.url}>\n                        {item.label}\n                    </Link>\n                ))}\n            </List>\n            <Divider style={{color: '#ffffff'}}/>\n            <List>\n                <Link to=\"/\" onClick={logout}>\n                    Log Out\n                </Link>\n            </List>\n        </div>\n    );\n\n    const container = window !== undefined ? () => window().document.body : undefined;\n\n    return (\n        <div className={classes.root}>\n            <nav className={classes.drawer} aria-label=\"mailbox folders\">\n                {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n                <Hidden smUp implementation=\"css\">\n                    <Drawer\n                        container={container}\n                        variant=\"temporary\"\n                        anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n                        open={mobileOpen}\n                        onClose={handleDrawerToggle}\n                        classes={{\n                            paper: classes.drawerPaper,\n                        }}\n                        ModalProps={{\n                            keepMounted: true, // Better open performance on mobile.\n                        }}\n                    >\n                        {drawer}\n                    </Drawer>\n                </Hidden>\n                <Hidden xsDown implementation=\"css\">\n                    <Drawer\n                        classes={{\n                            paper: classes.drawerPaper,\n                        }}\n                        variant=\"permanent\"\n                        open\n                    >\n                        {drawer}\n                    </Drawer>\n                </Hidden>\n            </nav>\n        </div>\n    );\n}\n\nResponsiveDrawer.propTypes = {\n    /**\n     * Injected by the documentation to work in an iframe.\n     * You won't need it on your project.\n     */\n    window: PropTypes.func,\n};\n\nexport default ResponsiveDrawer;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport useToken from \"./useToken\";\n\nexport default function OrderConfirmation() {\n  const { orderId } = useParams();\n  const { token, setToken } = useToken();\n\n  return (\n    <div className=\"container\">\n      <div className=\"page-header\">\n        <div style={{ 'padding-left': '1em' }}>\n          <h4>Order Confirmation #{orderId}</h4>\n          <h5>Thank you for your order!</h5>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { HashRouter, Link, Route, Switch } from \"react-router-dom\";\n\nimport Home from \"./components/Home\";\nimport Cart from \"./components/Cart\";\nimport Login from \"./components/Login/Login\";\nimport Assets from \"./components/Assets/Assets\";\nimport Drawer from './components/Drawer';\nimport OrderConfirmation from \"./components/OrderConfirmation\";\nimport useToken from \"./components/useToken\";\n\nfunction App() {\n  const [cart, setCart] = useState(\n    JSON.parse(localStorage.getItem(\"cart\")) || []\n  );\n  const { token, setToken } = useToken();\n\n  // Require that the user be logged in to access any app content\n  if (!token) {\n    return <Login setToken={setToken} />;\n  }\n\n  const getCartTotal = () => {\n    return cart.reduce((sum, { quantity }) => sum + quantity, 0);\n  };\n\n  const logout = () => {\n    setToken();\n    setCart([]);\n    localStorage.removeItem(\"cart\");\n    return localStorage.removeItem(\"token\");\n  };\n\n  return (\n    <HashRouter basename=\"/webstore\">\n      <div className=\"App\">\n        <Drawer cartTotal={getCartTotal()} logout={logout}></Drawer>\n        <Switch>\n          <Route exact path=\"/\">\n            <Home cart={cart} setCart={setCart} />\n          </Route>\n          <Route path=\"/cart\">\n            <Cart cart={cart} setCart={setCart} />\n          </Route>\n          <Route path=\"/assets\">\n            <Assets cart={cart} setCart={setCart} />\n          </Route>\n          <Route path=\"/confirmation/:orderId\">\n            <OrderConfirmation />\n          </Route>\n        </Switch>\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","module.exports = __webpack_public_path__ + \"static/media/owned.1c3adf63.png\";"],"sourceRoot":""}