{"ast":null,"code":"import _slicedToArray from\"/Users/bgaldino/Documents/self-service-webstore/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{HashRouter,Link,Route,Switch}from\"react-router-dom\";import Home from\"./components/Home\";import Cart from\"./components/Cart\";import Login from\"./components/Login/Login\";import Assets from\"./components/Assets/Assets\";import Drawer from'./components/Drawer';import OrderConfirmation from\"./components/OrderConfirmation\";import useToken from\"./components/useToken\";function App(){var _useState=useState(JSON.parse(localStorage.getItem(\"cart\"))||[]),_useState2=_slicedToArray(_useState,2),cart=_useState2[0],setCart=_useState2[1];var _useToken=useToken(),token=_useToken.token,setToken=_useToken.setToken;// Require that the user be logged in to access any app content\nif(!token){return/*#__PURE__*/React.createElement(Login,{setToken:setToken});}var getCartTotal=function getCartTotal(){return cart.reduce(function(sum,_ref){var quantity=_ref.quantity;return sum+quantity;},0);};var logout=function logout(){setToken();setCart([]);localStorage.removeItem(\"cart\");return localStorage.removeItem(\"token\");};return/*#__PURE__*/React.createElement(HashRouter,{basename:\"/webstore\"},/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Drawer,{cartTotal:getCartTotal(),logout:logout}),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\"},/*#__PURE__*/React.createElement(Home,{cart:cart,setCart:setCart})),/*#__PURE__*/React.createElement(Route,{path:\"/cart\"},/*#__PURE__*/React.createElement(Cart,{cart:cart,setCart:setCart})),/*#__PURE__*/React.createElement(Route,{path:\"/assets\"},/*#__PURE__*/React.createElement(Assets,{cart:cart,setCart:setCart})),/*#__PURE__*/React.createElement(Route,{path:\"/confirmation/:orderId\"},/*#__PURE__*/React.createElement(OrderConfirmation,null)))));}export default App;","map":{"version":3,"sources":["/Users/bgaldino/Documents/self-service-webstore/frontend/src/App.js"],"names":["React","useState","HashRouter","Link","Route","Switch","Home","Cart","Login","Assets","Drawer","OrderConfirmation","useToken","App","JSON","parse","localStorage","getItem","cart","setCart","token","setToken","getCartTotal","reduce","sum","quantity","logout","removeItem"],"mappings":"+KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,CAAqBC,IAArB,CAA2BC,KAA3B,CAAkCC,MAAlC,KAAgD,kBAAhD,CAEA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,0BAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,gCAA9B,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CAEA,QAASC,CAAAA,GAAT,EAAe,CACb,cAAwBZ,QAAQ,CAC9Ba,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,GAA4C,EADd,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAGA,cAA4BP,QAAQ,EAApC,CAAQQ,KAAR,WAAQA,KAAR,CAAeC,QAAf,WAAeA,QAAf,CAEA;AACA,GAAI,CAACD,KAAL,CAAY,CACV,mBAAO,oBAAC,KAAD,EAAO,QAAQ,CAAEC,QAAjB,EAAP,CACD,CAED,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,MAAOJ,CAAAA,IAAI,CAACK,MAAL,CAAY,SAACC,GAAD,UAAQC,CAAAA,QAAR,MAAQA,QAAR,OAAuBD,CAAAA,GAAG,CAAGC,QAA7B,EAAZ,CAAmD,CAAnD,CAAP,CACD,CAFD,CAIA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnBL,QAAQ,GACRF,OAAO,CAAC,EAAD,CAAP,CACAH,YAAY,CAACW,UAAb,CAAwB,MAAxB,EACA,MAAOX,CAAAA,YAAY,CAACW,UAAb,CAAwB,OAAxB,CAAP,CACD,CALD,CAOA,mBACE,oBAAC,UAAD,EAAY,QAAQ,CAAC,WAArB,eACE,2BAAK,SAAS,CAAC,KAAf,eACE,oBAAC,MAAD,EAAQ,SAAS,CAAEL,YAAY,EAA/B,CAAmC,MAAM,CAAEI,MAA3C,EADF,cAEE,oBAAC,MAAD,mBACE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,eACE,oBAAC,IAAD,EAAM,IAAI,CAAER,IAAZ,CAAkB,OAAO,CAAEC,OAA3B,EADF,CADF,cAIE,oBAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,eACE,oBAAC,IAAD,EAAM,IAAI,CAAED,IAAZ,CAAkB,OAAO,CAAEC,OAA3B,EADF,CAJF,cAOE,oBAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,eACE,oBAAC,MAAD,EAAQ,IAAI,CAAED,IAAd,CAAoB,OAAO,CAAEC,OAA7B,EADF,CAPF,cAUE,oBAAC,KAAD,EAAO,IAAI,CAAC,wBAAZ,eACE,oBAAC,iBAAD,MADF,CAVF,CAFF,CADF,CADF,CAqBD,CAED,cAAeN,CAAAA,GAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { HashRouter, Link, Route, Switch } from \"react-router-dom\";\n\nimport Home from \"./components/Home\";\nimport Cart from \"./components/Cart\";\nimport Login from \"./components/Login/Login\";\nimport Assets from \"./components/Assets/Assets\";\nimport Drawer from './components/Drawer';\nimport OrderConfirmation from \"./components/OrderConfirmation\";\nimport useToken from \"./components/useToken\";\n\nfunction App() {\n  const [cart, setCart] = useState(\n    JSON.parse(localStorage.getItem(\"cart\")) || []\n  );\n  const { token, setToken } = useToken();\n\n  // Require that the user be logged in to access any app content\n  if (!token) {\n    return <Login setToken={setToken} />;\n  }\n\n  const getCartTotal = () => {\n    return cart.reduce((sum, { quantity }) => sum + quantity, 0);\n  };\n\n  const logout = () => {\n    setToken();\n    setCart([]);\n    localStorage.removeItem(\"cart\");\n    return localStorage.removeItem(\"token\");\n  };\n\n  return (\n    <HashRouter basename=\"/webstore\">\n      <div className=\"App\">\n        <Drawer cartTotal={getCartTotal()} logout={logout}></Drawer>\n        <Switch>\n          <Route exact path=\"/\">\n            <Home cart={cart} setCart={setCart} />\n          </Route>\n          <Route path=\"/cart\">\n            <Cart cart={cart} setCart={setCart} />\n          </Route>\n          <Route path=\"/assets\">\n            <Assets cart={cart} setCart={setCart} />\n          </Route>\n          <Route path=\"/confirmation/:orderId\">\n            <OrderConfirmation />\n          </Route>\n        </Switch>\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}