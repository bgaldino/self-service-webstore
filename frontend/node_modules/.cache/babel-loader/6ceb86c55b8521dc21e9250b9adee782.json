{"ast":null,"code":"import _slicedToArray from\"/Users/bgaldino/Downloads/self-service-webstore/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/bgaldino/Downloads/self-service-webstore/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React from'react';import Divider from'@material-ui/core/Divider';import Drawer from'@material-ui/core/Drawer';import Hidden from'@material-ui/core/Hidden';import List from'@material-ui/core/List';import{makeStyles,useTheme}from'@material-ui/core/styles';import{HashRouter,Link,Route,Switch}from\"react-router-dom\";import useToken from\"./useToken\";var drawerWidth=240;var useStyles=makeStyles(function(theme){return{root:{display:'flex'},drawer:_defineProperty({},theme.breakpoints.up('sm'),{width:drawerWidth,flexShrink:0}),appBar:_defineProperty({},theme.breakpoints.up('sm'),{width:\"calc(100% - \".concat(drawerWidth,\"px)\"),marginLeft:drawerWidth}),menuButton:_defineProperty({marginRight:theme.spacing(2)},theme.breakpoints.up('sm'),{display:'none'}),// necessary for content to be below app bar\ntoolbar:theme.mixins.toolbar,drawerPaper:{width:drawerWidth},content:{flexGrow:1,padding:theme.spacing(3)}};});var BASE_URL=\"\".concat(process.env.REACT_APP_API_ENDPOINT,\"/services/data/v\").concat(process.env.REACT_APP_API_VERSION);function ResponsiveDrawer(props){console.log('props',props);var cartTotal=props.cartTotal,logout=props.logout,window=props.window;var classes=useStyles();var theme=useTheme();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),mobileOpen=_React$useState2[0],setMobileOpen=_React$useState2[1];var _useToken=useToken(),token=_useToken.token,setToken=_useToken.setToken;var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),photoUrl=_React$useState4[0],setPhotoUrl=_React$useState4[1];var _React$useState5=React.useState(),_React$useState6=_slicedToArray(_React$useState5,2),userName=_React$useState6[0],setUserName=_React$useState6[1];var _React$useState7=React.useState(),_React$useState8=_slicedToArray(_React$useState7,2),company=_React$useState8[0],setCompany=_React$useState8[1];var requestHeaders=new Headers();requestHeaders.append(\"X-Requested-With\",\"XMLHttpRequest\");requestHeaders.append(\"Authorization\",\"Bearer \"+token);requestHeaders.append(\"Content-Type\",\"application/json\");var requestOptions={method:\"GET\",headers:requestHeaders,redirect:\"follow\"};fetch(\"\".concat(BASE_URL,\"/sobjects/User/\").concat(localStorage.getItem('userid')),requestOptions).then(function(response){return response.text();}).then(function(result){var userData=JSON.parse(result);console.log('user data',userData);setPhotoUrl(userData.MediumPhotoUrl);var userName=(userData.FirstName||'')+' '+userData.LastName;setUserName(userName);localStorage.setItem('userName',userName);setCompany(userData.CompanyName||'');});var handleDrawerToggle=function handleDrawerToggle(){setMobileOpen(!mobileOpen);};var drawer=/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:classes.toolbar,class:\"center\",style:{color:'#FFFFFF','line-height':'40px'}},/*#__PURE__*/React.createElement(\"h4\",null,\"SmartBytes\"),/*#__PURE__*/React.createElement(\"img\",{src:photoUrl,height:\"120px\",width:\"120px\",class:\"user-icon\"}),/*#__PURE__*/React.createElement(\"div\",{class:\"user-info\"},userName),/*#__PURE__*/React.createElement(\"div\",{class:\"user-info\"},company)),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(List,null,[{label:'Store',url:'/'},{label:'What I Own',url:'/assets'},{label:'Cart ('+cartTotal+')',url:'/cart'}].map(function(item,index){return/*#__PURE__*/React.createElement(Link,{to:item.url},item.label);})),/*#__PURE__*/React.createElement(Divider,{style:{color:'#ffffff'}}),/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(Link,{to:\"/\",onClick:logout},\"Log Out\")));var container=window!==undefined?function(){return window().document.body;}:undefined;return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(\"nav\",{className:classes.drawer,\"aria-label\":\"mailbox folders\"},/*#__PURE__*/React.createElement(Hidden,{smUp:true,implementation:\"css\"},/*#__PURE__*/React.createElement(Drawer,{container:container,variant:\"temporary\",anchor:theme.direction==='rtl'?'right':'left',open:mobileOpen,onClose:handleDrawerToggle,classes:{paper:classes.drawerPaper},ModalProps:{keepMounted:true// Better open performance on mobile.\n}},drawer)),/*#__PURE__*/React.createElement(Hidden,{xsDown:true,implementation:\"css\"},/*#__PURE__*/React.createElement(Drawer,{classes:{paper:classes.drawerPaper},variant:\"permanent\",open:true},drawer))));}export default ResponsiveDrawer;","map":{"version":3,"sources":["/Users/bgaldino/Downloads/self-service-webstore/frontend/src/components/Drawer.js"],"names":["React","Divider","Drawer","Hidden","List","makeStyles","useTheme","HashRouter","Link","Route","Switch","useToken","drawerWidth","useStyles","theme","root","display","drawer","breakpoints","up","width","flexShrink","appBar","marginLeft","menuButton","marginRight","spacing","toolbar","mixins","drawerPaper","content","flexGrow","padding","BASE_URL","process","env","REACT_APP_API_ENDPOINT","REACT_APP_API_VERSION","ResponsiveDrawer","props","console","log","cartTotal","logout","window","classes","useState","mobileOpen","setMobileOpen","token","setToken","photoUrl","setPhotoUrl","userName","setUserName","company","setCompany","requestHeaders","Headers","append","requestOptions","method","headers","redirect","fetch","localStorage","getItem","then","response","text","result","userData","JSON","parse","MediumPhotoUrl","FirstName","LastName","setItem","CompanyName","handleDrawerToggle","color","label","url","map","item","index","container","undefined","document","body","direction","paper","keepMounted"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport List from '@material-ui/core/List';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { HashRouter, Link, Route, Switch } from \"react-router-dom\";\nimport useToken from \"./useToken\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n    },\n    drawer: {\n        [theme.breakpoints.up('sm')]: {\n            width: drawerWidth,\n            flexShrink: 0,\n        },\n    },\n    appBar: {\n        [theme.breakpoints.up('sm')]: {\n            width: `calc(100% - ${drawerWidth}px)`,\n            marginLeft: drawerWidth,\n        },\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n        [theme.breakpoints.up('sm')]: {\n            display: 'none',\n        },\n    },\n    // necessary for content to be below app bar\n    toolbar: theme.mixins.toolbar,\n    drawerPaper: {\n        width: drawerWidth,\n    },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing(3),\n    },\n}));\n\nconst BASE_URL = `${process.env.REACT_APP_API_ENDPOINT}/services/data/v${process.env.REACT_APP_API_VERSION}`;\n\nfunction ResponsiveDrawer(props) {\n    console.log('props', props);\n    const { cartTotal, logout, window } = props;\n    const classes = useStyles();\n    const theme = useTheme();\n    const [mobileOpen, setMobileOpen] = React.useState(false);\n    const { token, setToken } = useToken();\n    const [photoUrl, setPhotoUrl] = React.useState();\n    const [userName, setUserName] = React.useState();\n    const [company, setCompany] = React.useState();\n\n    let requestHeaders = new Headers();\n    requestHeaders.append(\"X-Requested-With\", \"XMLHttpRequest\");\n    requestHeaders.append(\"Authorization\", \"Bearer \" + token);\n    requestHeaders.append(\"Content-Type\", \"application/json\");\n\n    let requestOptions = {\n        method: \"GET\",\n        headers: requestHeaders,\n        redirect: \"follow\",\n    };\n\n    fetch(\n        `${BASE_URL}/sobjects/User/${localStorage.getItem('userid')}`,\n        requestOptions\n    )\n        .then((response) => response.text())\n        .then((result) => {\n            const userData = JSON.parse(result);\n            console.log('user data', userData);\n            setPhotoUrl(userData.MediumPhotoUrl);\n            const userName = (userData.FirstName || '') + ' ' + userData.LastName;\n            setUserName(userName);\n            localStorage.setItem('userName', userName);\n            setCompany(userData.CompanyName || '');\n        });\n\n\n    const handleDrawerToggle = () => {\n        setMobileOpen(!mobileOpen);\n    };\n\n    const drawer = (\n        <div>\n            <div className={classes.toolbar} class=\"center\" style={{color: '#FFFFFF','line-height': '40px'}}>\n                <h4>SmartBytes</h4>\n                <img src={photoUrl} height=\"120px\" width=\"120px\" class=\"user-icon\"/>\n                <div class=\"user-info\">{userName}</div>\n                <div class=\"user-info\">{company}</div>\n            </div>\n            <Divider />\n            <List>\n                {[\n                    {label: 'Store', url: '/'},\n                    {label: 'What I Own', url: '/assets'},\n                    {label: 'Cart (' + cartTotal + ')', url: '/cart'}\n                ].map((item, index) => (\n                    <Link to={item.url}>\n                        {item.label}\n                    </Link>\n                ))}\n            </List>\n            <Divider style={{color: '#ffffff'}}/>\n            <List>\n                <Link to=\"/\" onClick={logout}>\n                    Log Out\n                </Link>\n            </List>\n        </div>\n    );\n\n    const container = window !== undefined ? () => window().document.body : undefined;\n\n    return (\n        <div className={classes.root}>\n            <nav className={classes.drawer} aria-label=\"mailbox folders\">\n                {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n                <Hidden smUp implementation=\"css\">\n                    <Drawer\n                        container={container}\n                        variant=\"temporary\"\n                        anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n                        open={mobileOpen}\n                        onClose={handleDrawerToggle}\n                        classes={{\n                            paper: classes.drawerPaper,\n                        }}\n                        ModalProps={{\n                            keepMounted: true, // Better open performance on mobile.\n                        }}\n                    >\n                        {drawer}\n                    </Drawer>\n                </Hidden>\n                <Hidden xsDown implementation=\"css\">\n                    <Drawer\n                        classes={{\n                            paper: classes.drawerPaper,\n                        }}\n                        variant=\"permanent\"\n                        open\n                    >\n                        {drawer}\n                    </Drawer>\n                </Hidden>\n            </nav>\n        </div>\n    );\n}\n\nResponsiveDrawer.propTypes = {\n    /**\n     * Injected by the documentation to work in an iframe.\n     * You won't need it on your project.\n     */\n    window: PropTypes.func,\n};\n\nexport default ResponsiveDrawer;\n"]},"metadata":{},"sourceType":"module"}