(this["webpackJsonpself-service-webstore"]=this["webpackJsonpself-service-webstore"]||[]).push([[0],{123:function(e,t,a){e.exports=a.p+"static/media/demoAnalytics.852b0f17.png"},128:function(e,t){e.exports="data:image/png;base64,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"},129:function(e,t,a){e.exports=a.p+"static/media/visa.e66d38d0.jpg"},130:function(e,t,a){e.exports=a.p+"static/media/diners.fa6db1cf.png"},131:function(e,t,a){e.exports=a.p+"static/media/jcb.2e11480d.png"},132:function(e,t,a){e.exports=a.p+"static/media/maestro.c59f526c.png"},133:function(e,t,a){e.exports=a.p+"static/media/amex.57476e8f.png"},138:function(e,t,a){e.exports=a.p+"static/media/loading.da2b63dd.gif"},150:function(e,t,a){e.exports=a(282)},189:function(e,t,a){},277:function(e,t,a){},280:function(e,t,a){},282:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=a.n(c),o=a(11),i=a(43),s=a(40),u=a(9),d=a.n(u),m=a(19),p=a(74),f=a(16),g=a(331),h=a(326),E=a(330),y=a(328),v=a(329),b=a(327),S=a(340),O=a(338);function A(){var e=Object(n.useState)(function(){var e=localStorage.getItem("token");return JSON.parse(e)}()),t=Object(o.a)(e,2),a=t[0],r=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),r(e)},token:a}}var w=a(123),P=a.n(w),C=a(90),N=a.n(C);function j(e){var t=e.setCart,a=e.cart,c=Object(n.useState)(!1),l=Object(o.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(null),w=Object(o.a)(u,2),C=w[0],N=w[1],j=Object(n.useState)(1),I=Object(o.a)(j,2),T=I[0],x=I[1],M=Object(n.useState)(!1),D=Object(o.a)(M,2),k=D[0],B=D[1],Y=Object(n.useState)([]),R=Object(o.a)(Y,2),q=R[0],F=R[1],J=A(),L=J.token,Q=(J.setToken,Object(n.useState)(!0)),H=Object(o.a)(Q,2),U=H[0],V=H[1],z=r.a.useState(),X=Object(o.a)(z,2),Z=X[0],W=X[1],G=r.a.useState(),K=Object(o.a)(G,2),_=K[0],$=K[1];function ee(){return(ee=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),$(Z),e.next=4,ie();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te=function(e){var t=e.target.validity.valid?e.target.value:T;x(t)};function ae(e){return r.a.createElement(O.a,Object.assign({elevation:6,variant:"filled"},e))}function ne(){return re.apply(this,arguments)}function re(){return(re=Object(f.a)(d.a.mark((function e(){var t,a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],(a=new Headers).append("Authorization","Bearer "+L),a.append("Content-Type","application/json"),n={method:"GET",headers:a,redirect:"follow"},r="".concat("https://bgaldino-gs0-ent14.my.salesforce.com","/services/data/v").concat("53.0","/queryAll/?q=SELECT CurrencyIsoCode,Id,IsActive,Name,Pricebook2Id,Product2Id,Product2.DisplayUrl,Product2.Description, ProductSellingModelId,ProductSellingModel.Name,ProductSellingModel.PricingTerm,ProductSellingModel.PricingTermUnit,ProductSellingModel.SellingModelType FROM PricebookEntry WHERE Pricebook2Id = '","".concat("01sB0000002O2OjIAK"),"' AND IsActive = true AND CurrencyIsoCode = 'USD'"),Z&&(r+=" AND Name LIKE '".concat(Z,"%25'")),e.next=9,fetch(r,n).then((function(e){return e.text()})).then(function(){var e=Object(f.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(n).records,e.next=3,le(t,a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("error",e)}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){for(var t={listPricebookId:"".concat("01sB0000002O2OjIAK"),candidatePricebookIds:["".concat("01sB0000002O2OjIAK")],pricingFlow:"GET_CATALOG_PRICE",roundingMode:"RoundHalfUp",graph:{graphId:"1",records:[{referenceId:"ref_sales_txn",record:{attributes:{type:"SalesTransaction"},CurrencyIsoCode:"USD"}}]}},a=1;a<=e.length;a++){var n=e[a-1];n.sellingModel=n.ProductSellingModel.SellingModelType,n.pricingTermUnit=n.ProductSellingModel.PricingTermUnit,n.pricingTerm=parseInt(n.ProductSellingModel.PricingTerm),n.description=n.Product2.Description,n.img=n.Product2.DisplayUrl;var r={referenceId:"ref_sales_txn_item"+a,record:{attributes:{type:"SalesTransactionItem"},CurrencyIsoCode:"USD",SalesTransactionId:"@{ref_sales_txn.Id}",ProductId:n.Product2Id,Quantity:"1.0",ProductSellingModelId:n.ProductSellingModelId}};t.graph.records.push(r)}return JSON.stringify(t)}function le(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(f.a)(d.a.mark((function e(t,a){var n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=ce(t),c={method:"POST",headers:a,body:r,redirect:"follow"},e.next=5,fetch("".concat("https://bgaldino-gs0-ent14.my.salesforce.com","/services/data/v").concat("53.0","/commerce/pricing/salestransaction/actions/calculate-price"),c).then((function(e){return e.text()})).then((function(e){for(var a=JSON.parse(e),r=1;r<=t.length;r++){var c=t[r-1],l=a.records[r].record.ListPrice;c.price=(Math.round(100*l)/100).toFixed(2),n.push(c)}})).catch((function(e){return console.log("error",e)}));case 5:F(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return se.apply(this,arguments)}function se(){return(se=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:V(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){ie(),localStorage.setItem("cart",JSON.stringify(a))}),[a]);var ue=function(){s(!1),N(null),x(1)},de=function(e,t){"clickaway"!==t&&B(!1)},me=function(){var e=Object(p.a)(a),n=parseInt(T),r=e.find((function(e){return C.Name===e.Name}));r?r.quantity+=n:(r=Object(m.a)(Object(m.a)({},C),{},{quantity:n}),e.push(r)),t(e),ue(),B(!0)};function pe(e){switch(e){case"Days":return"daily";case"Months":return"monthly";case"Years":return"yearly"}return e}var fe=q.map((function(e){return r.a.createElement("div",{className:"card",key:e.Id},r.a.createElement("div",{className:"card-border"}),e.img&&r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:e.img,alt:e.title})),r.a.createElement("span",{to:"/",className:"btn-floating halfway-fab waves-effect waves-light green",style:{right:"14px",bottom:"10px"},onClick:function(){N(e),s(!0)}},r.a.createElement("i",{className:"material-icons"},"add")),r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},e.Name),r.a.createElement("div",null,r.a.createElement("i",null,e.description),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("h6",null,r.a.createElement("b",null,"$",e.price," ","Evergreen"==e.sellingModel&&pe(e.pricingTermUnit)," ","TermDefined"===e.sellingModel&&r.a.createElement("span",null,"for ",e.pricingTerm," ",e.pricingTermUnit.toLowerCase())))),r.a.createElement("br",null),r.a.createElement("br",null)),C?r.a.createElement(h.a,{open:i,onClose:ue,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(b.a,{id:"alert-dialog-title"},C.Name),r.a.createElement(y.a,null,r.a.createElement(v.a,{style:{color:"black"}},"Price: $",C.price," ","OneTime"!=C.sellingModel&&pe(C.pricingTermUnit)," "),r.a.createElement(v.a,{style:{color:"black"}},"TermDefined"==C.sellingModel&&r.a.createElement("div",null,r.a.createElement("p",null,"Term: ",C.pricingTerm," ",C.pricingTermUnit.toLowerCase()))," ")),r.a.createElement(y.a,null,r.a.createElement(v.a,{style:{color:"black"}},"Quantity:",r.a.createElement("input",{style:{width:"35%",textAlign:"center"},type:"text",pattern:"[1-9][0-9]*",onInput:te,value:T}))),r.a.createElement(E.a,null,r.a.createElement(g.a,{onClick:ue,color:"primary"},"Cancel"),r.a.createElement(g.a,{onClick:me,color:"primary",autoFocus:!0},"Add to cart"))):"",r.a.createElement(S.a,{open:k,autoHideDuration:6e3,onClose:de},r.a.createElement(ae,{onClose:de,severity:"success"},"Item added to cart!"))))}));return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{style:{"padding-left":"1em"}},r.a.createElement("h5",null,"Store"),"Hello ",localStorage.getItem("userName"),", welcome to SmartBytes web store."),r.a.createElement("img",{className:"header-image",src:P.a})),r.a.createElement("h5",{className:"center",style:{marginTop:"3%"}},"Products"),r.a.createElement("div",{style:{margin:"auto",width:"35%"}},r.a.createElement("input",{type:"text",placeholder:"Search for a product",value:Z,onChange:function(e){W(e.target.value)}}),r.a.createElement("button",{style:{position:"absolute",color:"white",backgroundColor:"#13334C",marginLeft:"1vw"},type:"button",className:"btn btn-default",onClick:function(){return ee.apply(this,arguments)}},"Search")),_?r.a.createElement("h5",{style:{textAlign:"center"}},'Showing results for "',_,'"'):r.a.createElement("h6",{style:{textAlign:"center"}},"Showing all results"),U?r.a.createElement("img",{style:{margin:"auto",display:"flex"},src:"https://miro.medium.com/max/1080/0*DqHGYPBA-ANwsma2.gif"}):r.a.createElement("div",null,0===q.length?r.a.createElement("h5",{style:{textAlign:"center"}},"No products found."):r.a.createElement("div",{className:"box",style:{marginTop:"4vh",justifyContent:"space-evenly",marginBottom:"10vh"}},fe)))}var I=a(335),T=a(332),x=a(333),M=a(334),D=a(140),k=a(46),B=a.n(k),Y=a(128),R=a.n(Y),q=a(129),F=a.n(q),J=a(130),L=a.n(J),Q=a(131),H=a.n(Q),U=a(132),V=a.n(U),z=a(133),X=a.n(z),Z="".concat("https://bgaldino-gs0-ent14.my.salesforce.com","/services/data/v").concat("53.0");function W(e){var t=e.cart,a=e.setCart,c=A(),l=c.token,i=(c.setToken,Object(n.useState)(!0)),u=Object(o.a)(i,2),m=u[0],g=u[1],h=Object(n.useState)(!1),E=Object(o.a)(h,2),y=E[0],v=E[1],b=Object(n.useState)(),S=Object(o.a)(b,2),O=S[0],w=S[1],P=Object(n.useState)(null),C=Object(o.a)(P,2),N=C[0],j=C[1],k=Object(s.f)(),Y=function(){a([])};function q(e){switch(e){case"MasterCard":return R.a;case"Jcb":return H.a;case"Visa":return F.a;case"AmericanExpress":return X.a;case"Maestro":return V.a;case"DinersClub":return L.a}}function J(){for(var e=B()(new Date).format("YYYY-MM-DD").toString(),a={inputs:[{order:{attributes:{type:"Order"},AccountId:"".concat("001B000001NFOhUIAX"),EffectiveDate:e,EndDate:null,Pricebook2Id:"".concat("01sB0000002O2OjIAK"),Status:"Draft",CurrencyIsoCode:"USD"},orderItems:new Array,paymentMethodId:N.value}]},n=0;n<t.length;n++){var r=t[n],c={attributes:{type:"OrderItem"},UnitPrice:parseFloat(r.unitPrice),PricebookEntryId:"".concat(r.Id),Quantity:r.quantity,ProductSellingModelId:"".concat(r.ProductSellingModelId),TaxTreatmentId:"1ttR000000001BqIAI",CurrencyIsoCode:"USD"};a.inputs[0].orderItems.push(c)}return JSON.stringify(a)}function Q(){return U.apply(this,arguments)}function U(){return(U=Object(f.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Authorization","Bearer "+l),t.append("Content-Type","application/json"),a={method:"GET",headers:t,redirect:"follow"},e.next=6,fetch("".concat(Z,"/queryAll/?q=SELECT CardCategory,CardHolderFirstName,CardHolderLastName,CardLastFour,CardTypeCategory,NickName,Status,Id FROM CardPaymentMethod WHERE Status = 'Active'"),a).then((function(e){return e.text()})).then((function(e){for(var t=JSON.parse(e).records,a=new Array,n=0;n<t.length;n++){var c=t[n];a.push({value:c.Id,label:r.a.createElement("div",null,r.a.createElement("img",{src:q(c.CardTypeCategory),style:{width:"10%"}})," ",c.CardTypeCategory," x",c.CardLastFour)})}a.length>0&&j(a[0]),w(a)})).catch((function(e){return console.log("error",e)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=O.length&&null!=N){e.next=3;break}return alert("No payment method selected. Please try again."),e.abrupt("return");case 3:return v(!0),(t=new Headers).append("Authorization","Bearer "+l),t.append("Content-Type","application/json"),a=J(),n={method:"POST",headers:t,body:a,redirect:"follow"},e.next=11,fetch("".concat(Z,"/actions/custom/flow/Buy_Now_Assets_Final"),n).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e)[0];if(t.isSuccess){var a=t.outputValues.orderOutput.OrderNumber;v(!1),Y(),k.push("/confirmation/".concat(a))}else console.log(t),v(!1),alert("Order unsucccessful. Please try again.")})).catch((function(e){return console.log("error",e)}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function W(){for(var e={listPricebookId:"".concat("01sB0000002O2OjIAK"),candidatePricebookIds:["".concat("01sB0000002O2OjIAK")],pricingFlow:"GET_FINAL_PRICE",roundingMode:"RoundHalfUp",graph:{graphId:"1",records:[{referenceId:"ref_sales_txn",record:{attributes:{type:"SalesTransaction"},CurrencyIsoCode:"USD"}}]}},a=1;a<=t.length;a++){var n=t[a-1],r={referenceId:"ref_sales_txn_item"+a,record:{attributes:{type:"SalesTransactionItem"},CurrencyIsoCode:"USD",SalesTransactionId:"@{ref_sales_txn.Id}",ProductId:n.Product2Id,Quantity:"".concat(n.quantity),ProductSellingModelId:n.ProductSellingModelId}};e.graph.records.push(r)}return JSON.stringify(e)}function G(){return K.apply(this,arguments)}function K(){return(K=Object(f.a)(d.a.mark((function e(){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Authorization","Bearer "+l),a.append("Content-Type","application/json"),n=W(),r={method:"POST",headers:a,body:n,redirect:"follow"},g(!0),e.next=8,fetch("".concat(Z,"/commerce/pricing/salestransaction/actions/calculate-price"),r).then((function(e){return e.text()})).then((function(e){for(var a=JSON.parse(e),n=1,r=n+t.length;n<=t.length;n++){var c=t[n-1],l=a.records[n].record.ListPrice,o=a.records[n].record.NetUnitPrice,i=(a.records[n].record.TotalPrice,a.records[n].record.TotalAdjustmentAmount);if(c.unitPrice=(Math.round(100*l)/100).toFixed(2),c.netPrice=(Math.round(100*o)/100).toFixed(2),c.adjustment=(Math.round(100*i)/100).toFixed(2),c.totalPrice=(c.netPrice*c.quantity).toFixed(2),c.priceChange=(Math.round(100*Math.abs(l-o))/100).toFixed(2),0!=i){var s=a.records[r];c.adjustmentDesc=s.record.Description;var u=s.record.AdjustmentValue,d=s.record.AdjustmentType,m=s.record.TotalAmount,p="";switch(d){case"AdjustmentPercentage":p+=Math.abs(u).toString()+"%";break;case"AdjustmentAmount":p+="$"+(Math.round(100*Math.abs(u))/100).toFixed(2).toString()}p+=m>0?" addl. charge":" off",c.adjustmentString=p,r++}}})).catch((function(e){return console.log("error",e)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:return e.next=4,Q();case 4:g(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){switch(e){case"Days":return"daily";case"Months":return"monthly";case"Years":return"yearly"}return e}Object(n.useEffect)((function(){!function(){_.apply(this,arguments)}(),localStorage.setItem("cart",JSON.stringify(t))}),[t]);var ee=function(e,n){var r=Object(p.a)(t);r.find((function(t){return t.Name===e.Name})).quantity=n,a(r)},te=function(e){a(t.filter((function(t){return t!==e})))};return r.a.createElement(r.a.Fragment,null,m?r.a.createElement("img",{style:{margin:"auto",display:"flex"},src:"https://miro.medium.com/max/1080/0*DqHGYPBA-ANwsma2.gif"}):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{style:{"padding-left":"1em"}},r.a.createElement("h5",null,"Cart"),"Here is what you've added so far.")),r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("ul",{className:"collection",style:{width:"100%",margin:"auto"}},r.a.createElement("li",{className:"collection-item",key:e.Id},r.a.createElement(T.a,{style:{width:"100%"}},r.a.createElement(x.a,null,r.a.createElement(M.a,{className:"cart-col",style:{width:"10%",position:"relative"}},e.img&&r.a.createElement("img",{src:e.img,alt:e.img,style:{width:"75%",margin:"0",position:"absolute",transform:"translateY(50%)",top:"50%"}})),r.a.createElement(M.a,{className:"cart-col"},r.a.createElement("div",{className:"item-desc"},r.a.createElement("h5",{style:{overflowWrap:"break-word"}},e.Name),0==e.adjustment?r.a.createElement("b",null,"Price: $",e.unitPrice," ","Evergreen"==e.sellingModel&&r.a.createElement("span",null,$(e.pricingTermUnit))):r.a.createElement("div",null,r.a.createElement("span",null,"Unit price: $",e.unitPrice),r.a.createElement("br",null)),e.adjustment>0&&r.a.createElement("span",{style:{color:"green"}},"Surcharges: +$",e.priceChange,r.a.createElement("span",null," ","(",e.adjustmentString," -"," ",e.adjustmentDesc,")")),e.adjustment<0&&r.a.createElement("span",{style:{color:"red"}},"Discounts: -$",e.priceChange,r.a.createElement("span",null," ","(",e.adjustmentString," -"," ",e.adjustmentDesc,")")),r.a.createElement("p",null,0!=e.adjustment&&r.a.createElement("b",null,"Price: $",e.netPrice," ","Evergreen"==e.sellingModel&&r.a.createElement("span",null,$(e.pricingTermUnit))," ","TermDefined"===e.sellingModel&&r.a.createElement("span",null,"for ",e.pricingTerm," ",e.pricingTermUnit.toLowerCase()))))),r.a.createElement(M.a,{className:"cart-col col-center",style:{marginTop:"2%"}},r.a.createElement("p",null,r.a.createElement("b",null,"Quantity: ",e.quantity)),r.a.createElement("div",{className:"add-remove"},r.a.createElement(I.a,{to:"/"},r.a.createElement("i",{className:"material-icons",style:{color:"#039be5"},onClick:function(){ee(e,e.quantity+1)}},"add")),r.a.createElement(I.a,{to:"/"},r.a.createElement("i",{className:"material-icons",style:{color:"#039be5"},onClick:function(){1==e.quantity?te(e):ee(e,e.quantity-1)}},"remove")))),r.a.createElement(M.a,{className:"cart-col col-center",style:{position:"absolute",left:"73%"}},r.a.createElement("b",{style:{marginBottom:"5%",marginTop:"10%"}},"Total: $",e.totalPrice),r.a.createElement(I.a,{to:"/"},r.a.createElement("i",{className:"material-icons md-18",style:{color:"#039be5"},onClick:function(){te(e)}},"delete")))))))}))),t.length>0?r.a.createElement("div",{className:"container",style:{width:"100%"}},r.a.createElement("div",null,r.a.createElement(x.a,null,r.a.createElement("li",{style:{textAlign:"right",display:"grid",padding:"2%"}},r.a.createElement("h5",null,"Total: $",function(){var e=t.reduce((function(e,t){return e+t.netPrice*t.quantity}),0);return(Math.round(100*e)/100).toFixed(2)}())),r.a.createElement("div",{style:{width:"30%",float:"right"}},r.a.createElement("p",{style:{textAlign:"center"}},"Saved Payment Methods"),r.a.createElement(D.a,{defaultValue:O[0]||"N/A",onChange:j,options:O,menuPortalTarget:document.body,menuPosition:"fixed",isSearchable:!1})," "))),y?r.a.createElement("div",{style:{float:"right",width:"30%"}},r.a.createElement("h5",{style:{textAlign:"center"}},"Placing order..."),r.a.createElement("img",{style:{margin:"auto",display:"flex",width:"60%"},src:"https://miro.medium.com/max/1080/0*DqHGYPBA-ANwsma2.gif"})):r.a.createElement("div",{className:"checkout",style:{display:"flex",alignItems:"center",flexDirection:"row-reverse",marginBottom:"10%"}},r.a.createElement("div",null,r.a.createElement("button",{className:"waves-effect waves-light red btn",style:{margin:"1vh"},onClick:Y},"Clear Cart"),r.a.createElement("button",{className:"waves-effect waves-light green btn",onClick:z},"Buy Now")))):r.a.createElement("h5",{style:{textAlign:"center",padding:"5%"}},"Cart is empty.")))}a(189);function G(e){return K.apply(this,arguments)}function K(){return(K=Object(f.a)(d.a.mark((function e(t){var a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Headers,(n=new FormData).append("grant_type","password"),n.append("client_id","".concat("3MVG9SemV5D80oBdW36YZMBL22.hmsQWAYQP20dXmB8_eS2EGUvWjNbF4BQo70jJVZbZsaYFJgNfZLnESTKtg")),n.append("client_secret","".concat("DFAF999B65740EA4738DBA060417BB9A51D3E435EFFFF31735566F33230E7FCD")),n.append("username",t.username),n.append("password",t.password),r={method:"POST",headers:a,body:n,redirect:"follow"},c="",e.next=11,fetch("".concat("https://bgaldino-gs0-ent14.my.salesforce.com","/services/oauth2/token"),r).then((function(e){return e.text()})).then((function(e){if(JSON.parse(e).error)return c;var t=JSON.parse(e);c=t.access_token,localStorage.setItem("userid",t.id.split("/")[5])})).catch((function(e){return console.log("error",e)}));case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){var t=e.setToken,a=Object(n.useState)(),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(),u=Object(o.a)(s,2),m=u[0],p=u[1],g=Object(n.useState)(),h=Object(o.a)(g,2),E=h[0],y=h[1],v=function(){var e=Object(f.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),y(),e.next=4,G({username:l,password:m});case 4:0===(n=e.sent).length?y("Invalid login. Please try again."):t(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"login-wrapper"},r.a.createElement("h3",null,"Sign in"),r.a.createElement("form",{className:"login-form",onSubmit:v},r.a.createElement("div",{className:"login-inputs"},r.a.createElement("label",null,r.a.createElement("p",null,"Username"),r.a.createElement("input",{type:"text",onChange:function(e){return i(e.target.value)}}))),r.a.createElement("div",{className:"login-inputs"},r.a.createElement("label",null,r.a.createElement("p",null,"Password"),r.a.createElement("input",{type:"password",onChange:function(e){return p(e.target.value)}}))),r.a.createElement("div",null,E?r.a.createElement("p",{style:{color:"red",textAlign:"center",fontSize:"2vh"}},E):"",r.a.createElement("button",{style:{backgroundColor:"rgb(0, 112, 210)",width:"100%"},class:"btn btn-primary",type:"submit"},"Log in"))))}var $=a(78),ee=a(136),te=a.n(ee),ae=a(137),ne=a.n(ae),re=a(138),ce=a.n(re),le=(a(277),{OneTime:"One Time",Evergreen:"Evergreen",TermDefined:"Term Defined"}),oe="".concat("https://bgaldino-gs0-ent14.my.salesforce.com","/services/data/v").concat("53.0");function ie(e){e.setCart;var t=e.cart,a=A(),c=a.token,l=(a.setToken,Object(n.useState)([])),i=Object(o.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(!1),p=Object(o.a)(m,2),g=p[0],v=p[1],S=Object(n.useState)(null),O=Object(o.a)(S,2),w=O[0],P=O[1],C=Object(n.useState)(new Date),j=Object(o.a)(C,2),I=j[0],D=j[1],k=Object(n.useState)(!0),Y=Object(o.a)(k,2),R=Y[0],q=Y[1],F=Object(n.useState)(new Map),J=Object(o.a)(F,1)[0],L=ne()("https://self-service-webstore.herokuapp.com/",{transports:["websocket","polling","flashsocket","xhr-polling"]});function Q(e){switch(e){case"Days":return"daily";case"Months":return"monthly";case"Years":return"yearly"}return e}var H=function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("X-Requested-With","XMLHttpRequest"),t.append("Authorization","Bearer "+c),t.append("Content-Type","application/json"),I.setUTCHours(23,59,59,0),a=JSON.stringify({assetIds:[w.Id],cancellationDate:B.a.utc(I,"MM-DD-YYYY").add(1,"days").format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")}),n={method:"POST",headers:t,body:a,redirect:"follow"},e.next=9,fetch("".concat(oe,"/asset-management/assets/collection/actions/initiate-cancellation"),n).then((function(e){return e.text()})).then(function(){var e=Object(f.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=JSON.parse(t).requestId,n=setInterval((function(){if(J.has(a)){clearInterval(n);var e=J.get(a);e.payload.HasErrors?(alert("Error during cancellation. Please try again."),console.log("Error event detail: ",e)):alert("Cancellation order has been created for ".concat(w.Name,".")),J.clear()}}),2e3);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("error",e)}));case 9:U();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){v(!1),P(null)};function V(){return z.apply(this,arguments)}function z(){return(z=Object(f.a)(d.a.mark((function e(){var t,a,n,r,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=new Headers,n=new Map,a.append("Authorization","Bearer "+c),a.append("Content-Type","application/json"),r={method:"GET",headers:a,redirect:"follow"},l="".concat(oe,"/queryAll/?q=SELECT Id,Name,Product2Id, Product2.Name, ProductSellingModelId,ProductSellingModel.Name,ProductSellingModel.PricingTerm,ProductSellingModel.PricingTermUnit,ProductSellingModel.SellingModelType FROM PricebookEntry WHERE Pricebook2Id = '","".concat("01sB0000002O2OjIAK"),"' AND IsActive = true AND CurrencyIsoCode = 'USD'"),e.next=9,fetch(l,r).then((function(e){return e.text()})).then(function(){var e=Object(f.a)(d.a.mark((function e(a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=JSON.parse(a).records,r=0;r<t.length;r++)n.set(t[r].Product2Id,t[r]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("error",e)}));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return Z.apply(this,arguments)}function Z(){return(Z=Object(f.a)(d.a.mark((function e(){var t,a,n,r,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],(a=new Headers).append("Authorization","Bearer "+c),a.append("Content-Type","application/json"),n={method:"GET",headers:a,redirect:"follow"},r=[],l="".concat(oe,"/queryAll/?q=SELECT Id, Name, Price, Product2Id, PurchaseDate,CurrentQuantity,LifecycleStartDate, LifecycleEndDate FROM Asset WHERE CreatedById = '").concat(localStorage.getItem("userid"),"' ORDER BY LifecycleStartDate DESC"),e.next=9,fetch(l,n).then((function(e){return e.text()})).then(function(){var e=Object(f.a)(d.a.mark((function e(a){var c,l,o,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(a).records,e.next=3,V();case 3:for(c=e.sent,l=0,o=[];l<t.length;l++)i=t[l],o.push(i.Id),c.has(i.Product2Id)&&(i.ProductSellingModel=c.get(i.Product2Id).ProductSellingModel,i.Status="Active",i.Period=B.a.utc(i.LifecycleStartDate).format("MMM DD, YYYY").toString()+" - ",i.LifecycleEndDate&&(i.Period+=B.a.utc(i.LifecycleEndDate).format("MMM DD, YYYY").toString(),"Evergreen"===i.ProductSellingModel.SellingModelType&&(i.Status="Cancelled")),i.SellingModelType=le[i.ProductSellingModel.SellingModelType],r.push(i));if(console.log("All assets",r),!(o.length>0)){e.next=12;break}return s="".concat(oe,"/queryAll/?q=SELECT Id, ReferenceEntity.Id, EffectiveNextBillingDate, CurrentBillingPeriodAmount, TotalPendingAmount FROM BillingScheduleGroup WHERE ReferenceEntity.Id IN ('").concat(o.join("', '"),"')"),e.next=12,fetch(s,n).then((function(e){return e.text()})).then(function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=JSON.parse(t).records).forEach((function(e){var t=e.ReferenceEntity.Id,a=r.find((function(e){return e.Id===t}));a&&(e.EffectiveNextBillingDate?a.NextBillingDate=B.a.utc(e.EffectiveNextBillingDate).format("MMM DD, YYYY").toString():a.NextBillingDate="N/A")})),console.log("got bsg result",a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("error",e)}));case 9:u(r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:q(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){L.on("AssetEvent",(function(e){J.set(e.payload.RequestId,e)})),function(){W.apply(this,arguments)}()}),[t]),r.a.createElement("div",null,R?r.a.createElement("img",{style:{margin:"auto",display:"flex"},src:ce.a}):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{style:{"padding-left":"1em"}},r.a.createElement("h5",null,"What I Own"),"See the list of your assets, and make changes to them."),r.a.createElement("img",{className:"header-image",src:N.a})),0===s.length?r.a.createElement("h5",{style:{textAlign:"center"}},"No products found."):r.a.createElement("div",null,s.map((function(e){return r.a.createElement("div",null,r.a.createElement("ul",{className:"collection",style:{width:"100%",margin:"auto"}},r.a.createElement("li",{className:"collection-item",key:e.Id},r.a.createElement(T.a,{style:{width:"100%"}},r.a.createElement(x.a,null,r.a.createElement(M.a,{style:{width:"78%",marginLeft:"2%"}},r.a.createElement(x.a,null,r.a.createElement("div",{className:"item-desc"},r.a.createElement("h5",{style:{overflowWrap:"break-word"}},e.Name,r.a.createElement("span",{className:"Active"==e.Status?"new green badge":"new red badge","data-badge-caption":""},e.Status)))),r.a.createElement(x.a,null,r.a.createElement("p",null,e.CurrentQuantity&&r.a.createElement("span",null,e.CurrentQuantity," user",e.CurrentQuantity>1&&r.a.createElement("span",null,"s")," | "),e.SellingModelType," | ",e.ProductSellingModel.SellingModelType&&r.a.createElement("span",null,"TermDefined"==e.ProductSellingModel.SellingModelType&&r.a.createElement("span",null,"Term:"," ",e.ProductSellingModel.PricingTerm," ",e.ProductSellingModel.PricingTermUnit.toLowerCase()," "," | "),"Evergreen"==e.ProductSellingModel.SellingModelType&&r.a.createElement("span",null,"Billing"," ",Q(e.ProductSellingModel.PricingTermUnit))," "))),r.a.createElement(x.a,null,r.a.createElement(M.a,null,e.NextBillingDate&&r.a.createElement("span",null,r.a.createElement("div",null,"Next Billing Date:"),r.a.createElement("strong",null,e.NextBillingDate))),r.a.createElement(M.a,null,e.Period&&r.a.createElement("span",null,r.a.createElement("div",null,"Period:"),r.a.createElement("strong",null,e.Period))))),r.a.createElement(M.a,{style:{width:"20%"}},r.a.createElement("h6",{style:{marginTop:"50%",textAlign:"center"}},e.Price&&r.a.createElement("span",null,"$",e.Price,"OneTime"!=e.ProductSellingModel.SellingModelType&&r.a.createElement("span",null," ",Q(e.ProductSellingModel.PricingTermUnit))," "))),r.a.createElement(M.a,{style:{width:"10%"}},r.a.createElement($.Dropdown,{id:"dd"+e.Id,options:{alignment:"right",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,container:null,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250},trigger:r.a.createElement($.Button,{style:{position:"absolute",top:"10%",right:"5%",backgroundColor:"#13334C"},id:"db"+e.Id,node:"button"},"Options")},r.a.createElement("a",{href:"#"},"Amend"),null!=e.LifecycleEndDate&&r.a.createElement("a",{href:"#"},"Renew"),null==e.LifecycleEndDate&&r.a.createElement("a",{onClick:function(){P(e),v(!0)}},"Cancel"))))))),r.a.createElement("br",null))})),w?r.a.createElement(h.a,{open:g,onClose:U,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"sm"},r.a.createElement(b.a,{id:"alert-dialog-title"},"Cancel ",w.Name),r.a.createElement(y.a,{style:{height:"40vh"}},r.a.createElement("p",null,"Cancellation date:"," ",r.a.createElement(te.a,{minDate:new Date,onChange:D,value:I}))),r.a.createElement(E.a,null,r.a.createElement($.Button,{onClick:H,color:"primary"},"Cancel subscription"))):"")))}var se=a(50),ue=a(337),de=a(341),me=a(339),pe=a(343),fe=a(336),ge=a(24),he=Object(fe.a)((function(e){return{root:{display:"flex"},drawer:Object(se.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(se.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(se.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}}})),Ee="".concat("https://bgaldino-gs0-ent14.my.salesforce.com","/services/data/v").concat("53.0");var ye=function(e){console.log("props",e);var t=e.cartTotal,a=e.logout,n=e.window,c=he(),l=Object(ge.a)(),s=r.a.useState(!1),u=Object(o.a)(s,2),d=u[0],m=u[1],p=A(),f=p.token,g=(p.setToken,r.a.useState()),h=Object(o.a)(g,2),E=h[0],y=h[1],v=r.a.useState(),b=Object(o.a)(v,2),S=b[0],O=b[1],w=r.a.useState(),P=Object(o.a)(w,2),C=P[0],N=P[1],j=new Headers;j.append("X-Requested-With","XMLHttpRequest"),j.append("Authorization","Bearer "+f),j.append("Content-Type","application/json");var I={method:"GET",headers:j,redirect:"follow"};fetch("".concat(Ee,"/sobjects/User/").concat(localStorage.getItem("userid")),I).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e);console.log("user data",t),y(t.MediumPhotoUrl);var a=(t.FirstName||"")+" "+t.LastName;O(a),localStorage.setItem("userName",a),N(t.CompanyName||"")}));var T=r.a.createElement("div",null,r.a.createElement("div",{className:c.toolbar,class:"center",style:{color:"#FFFFFF","line-height":"40px"}},r.a.createElement("h4",null,"SmartBytes"),r.a.createElement("img",{src:E,height:"120px",width:"120px",class:"user-icon"}),r.a.createElement("div",{class:"user-info"},S),r.a.createElement("div",{class:"user-info"},C)),r.a.createElement(ue.a,null),r.a.createElement(pe.a,null,[{label:"Store",url:"/"},{label:"What I Own",url:"/assets"},{label:"Cart ("+t+")",url:"/cart"}].map((function(e,t){return r.a.createElement(i.b,{to:e.url},e.label)}))),r.a.createElement(ue.a,{style:{color:"#ffffff"}}),r.a.createElement(pe.a,null,r.a.createElement(i.b,{to:"/",onClick:a},"Log Out"))),x=void 0!==n?function(){return n().document.body}:void 0;return r.a.createElement("div",{className:c.root},r.a.createElement("nav",{className:c.drawer,"aria-label":"mailbox folders"},r.a.createElement(me.a,{smUp:!0,implementation:"css"},r.a.createElement(de.a,{container:x,variant:"temporary",anchor:"rtl"===l.direction?"right":"left",open:d,onClose:function(){m(!d)},classes:{paper:c.drawerPaper},ModalProps:{keepMounted:!0}},T)),r.a.createElement(me.a,{xsDown:!0,implementation:"css"},r.a.createElement(de.a,{classes:{paper:c.drawerPaper},variant:"permanent",open:!0},T))))};function ve(){var e=Object(s.g)().orderId,t=A();t.token,t.setToken;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{style:{"padding-left":"1em"}},r.a.createElement("h4",null,"Order Confirmation #",e),r.a.createElement("h5",null,"Thank you for your order!"))))}var be=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("cart"))||[]),t=Object(o.a)(e,2),a=t[0],c=t[1],l=A(),u=l.token,d=l.setToken;return u?r.a.createElement(i.a,{basename:"/webstore"},r.a.createElement("div",{className:"App"},r.a.createElement(ye,{cartTotal:a.reduce((function(e,t){return e+t.quantity}),0),logout:function(){return d(),c([]),localStorage.removeItem("cart"),localStorage.removeItem("token")}}),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(j,{cart:a,setCart:c})),r.a.createElement(s.a,{path:"/cart"},r.a.createElement(W,{cart:a,setCart:c})),r.a.createElement(s.a,{path:"/assets"},r.a.createElement(ie,{cart:a,setCart:c})),r.a.createElement(s.a,{path:"/confirmation/:orderId"},r.a.createElement(ve,null))))):r.a.createElement(_,{setToken:d})};a(280);l.a.render(r.a.createElement(be,null),document.getElementById("root"))},90:function(e,t,a){e.exports=a.p+"static/media/owned.1c3adf63.png"}},[[150,1,2]]]);
//# sourceMappingURL=main.1c45d9aa.chunk.js.map